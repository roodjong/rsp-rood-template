/* Generated by Spago v0.93.44 */
(()=>{var Gi=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,o=0;o<r;o++)for(var a=e(t[o]),u=a.length,l=0;l<u;l++)n.push(a[l]);return n}};var Vi=function(t){return function(e){for(var n=t.length,r=e.length,o=new Array(n*r),a=0,u=0;u<n;u++)for(var l=t[u],i=0;i<r;i++)o[a++]=l(e[i]);return o}};var Go={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var Y=function(t){return t.identity},Z={identity:function(t){return t},Semigroupoid0:function(){return Go}};var yt=!0;var $=function(t){return function(e){return function(n){return t(n)(e)}}},q=function(t){return function(e){return t}};var Qi=function(t){return function(e){for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=t(e[o]);return r}};var z=function(){function t(){}return t.value=new t,t}();var d=function(t){return t.map},Ot=function(t){var e=d(t);return function(n){return function(r){return e(r)(n)}}},bt=function(t){return d(t)(q(void 0))};var Be=function(t){var e=d(t);return function(n){return e(q(n))}};var mt={map:Qi};var Xp=Y(Z);var Qo={apply:Vi,Functor0:function(){return mt}},it=function(t){return t.apply},Xi=function(t){var e=it(t),n=d(t.Functor0());return function(r){return function(o){return e(n(q)(r))(o)}}},oe=function(t){var e=it(t),n=d(t.Functor0());return function(r){return function(o){return e(n(q(Xp))(r))(o)}}};var y=function(t){return t.pure};var Hr=function(t){var e=it(t.Apply0()),n=y(t);return function(r){return function(o){return e(n(r))(o)}}};var rn=function(t){return t.discard};var Yo={bind:Gi,Apply0:function(){return Qo}},M=function(t){return t.bind},jt=function(t){return $(M(t))},Nu=function(t){var e=jt(t);return function(n){return function(r){return function(o){return e(n)(r(o))}}}};var on={discard:function(t){return M(t)}};var Ki=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Yt=function(t){return t.reflectSymbol};var ve=function(t){return function(e){return e[t]}},ae=function(t){return function(e){return function(n){var r={};for(var o in n)({}).hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r[t]=e,r}}};var Ce={append:Ki};var H=function(t){return t.append};var Ct=function(t){return t.alt};var tc="\uFFFF",ec="\0",nv=Number.POSITIVE_INFINITY,rv=Number.NEGATIVE_INFINITY;var Pu=function(t){return function(e){return function(n){return function(r){return function(o){return r<o?t:r===o?e:n}}}}};var nc=Pu,rc=Pu;var oc=Pu;var Au=function(t){return function(e){return t===e}};var ac=Au,uc=Au,lc=Au;var ic={eq:uc},Ko={eq:ac},Zo={eq:lc};var Q=function(t){return t.eq};var j=function(){function t(){}return t.value=new t,t}(),U=function(){function t(){}return t.value=new t,t}(),nt=function(){function t(){}return t.value=new t,t}();var Yn={eq:function(t){return function(e){return t instanceof j&&e instanceof j||t instanceof U&&e instanceof U||t instanceof nt&&e instanceof nt}}};var cc=function(t){return function(e){return t-e|0}},fc=function(t){return function(e){return t-e}};var sc=function(t){return function(e){return t+e|0}},dc=function(t){return function(e){return t*e|0}},pc=function(t){return function(e){return t+e}},vc=function(t){return function(e){return t*e}};var mc=function(t){return t.zeroRecord},me=function(t){return t.zero};var $r={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var Se={add:pc,zero:0,mul:vc,one:1},ta={add:sc,zero:0,mul:dc,one:1},_c=function(t){return t.oneRecord},Ne=function(t){return t.one},gc=function(t){return t.mulRecord},ue=function(t){return t.mul},hc=function(t){return t.addRecord},qr=function(){return function(t){return{add:hc(t)(z.value),mul:gc(t)(z.value),one:_c(t)(z.value)(z.value),zero:mc(t)(z.value)(z.value)}}},le=function(t){return t.add};var Kn=function(t){var e=Yt(t);return function(){return function(n){var r=hc(n),o=gc(n),a=_c(n),u=mc(n);return function(l){var i=le(l),c=ue(l),p=Ne(l),g=me(l);return{addRecord:function(C){return function(b){return function(w){var I=r(z.value)(b)(w),ot=e(z.value),de=ae(ot),be=ve(ot);return de(i(be(b))(be(w)))(I)}}},mulRecord:function(C){return function(b){return function(w){var I=o(z.value)(b)(w),ot=e(z.value),de=ae(ot),be=ve(ot);return de(c(be(b))(be(w)))(I)}}},oneRecord:function(C){return function(b){var w=a(z.value)(z.value),I=e(z.value),ot=ae(I);return ot(p)(w)}},zeroRecord:function(C){return function(b){var w=u(z.value)(z.value),I=e(z.value),ot=ae(I);return ot(g)(w)}}}}}}};var cv=qr(),Rc=function(t){return t.subRecord},Zn=function(t){return t.sub};var Wu={subRecord:function(t){return function(e){return function(n){return{}}}},SemiringRecord0:function(){return $r}},ea=function(t){var e=Yt(t),n=Kn(t)();return function(){return function(r){var o=Rc(r),a=n(r.SemiringRecord0());return function(u){var l=Zn(u),i=a(u.Semiring0());return{subRecord:function(c){return function(p){return function(g){var C=o(z.value)(p)(g),b=e(z.value),w=ae(b),I=ve(b);return w(l(I(p))(I(g)))(C)}}},SemiringRecord0:function(){return i}}}}}},Uu=function(){return function(t){var e=cv(t.SemiringRecord0());return{sub:Rc(t)(z.value),Semiring0:function(){return e}}}};var na={sub:fc,Semiring0:function(){return Se}},Dc={sub:cc,Semiring0:function(){return ta}};var Br=function(){return{compare:rc(j.value)(nt.value)(U.value),Eq0:function(){return ic}}}(),ie=function(){return{compare:nc(j.value)(nt.value)(U.value),Eq0:function(){return Ko}}}(),ra=function(){return{compare:oc(j.value)(nt.value)(U.value),Eq0:function(){return Zo}}}();var J=function(t){return t.compare};var ke=function(t){return t.top};var kr={top:tc,bottom:ec,Ord0:function(){return ra}};var an=function(t){return t.bottom};var wc=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},bc=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var Cc=function(t){return function(e){for(var n=[],r=0,o=e.length;r<o;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var er={show:wc};var oa={show:bc};var E=function(t){return t.show},$u=function(t){return{show:Cc(E(t))}};var Rv=Y(Z),s=function(){function t(){}return t.value=new t,t}(),f=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var ce=function(t){return function(e){return function(n){if(n instanceof s)return t;if(n instanceof f)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},nr=ce(!0)(q(!1));var _t={map:function(t){return function(e){return e instanceof f?new f(t(e.value0)):s.value}}};var Ht=function(t){return ce(t)(Rv)},un=function(){return function(t){if(t instanceof f)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var la=isFinite;function Mc(t,e,n,r){var o=parseFloat(t);return e(o)?n(o):r}var ia=Math.cos;var ca=Math.sin;var Lc=3.141592653589793;var fa=function(t){return Mc(t,la,f.create,s.value)};var sa=function(t){return t.toUpperCase()};var or=function(t){return t===""};var Ic=function(t){return function(){return t}},Sc=function(t){return function(e){return function(){return e(t())()}}};var Pc=function(t){var e=M(t.Bind1()),n=y(t.Applicative0());return function(r){return function(o){return e(o)(function(a){return n(r(a))})}}},ln=function(t){var e=M(t.Bind1()),n=y(t.Applicative0());return function(r){return function(o){return e(r)(function(a){return e(o)(function(u){return n(a(u))})})}}};var Ac=function(t){return Math.min(Math.abs(t),2147483647)},Wc=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Uc=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var Hc={Ring0:function(){return Dc}};var jr=function(t){return t.mod};var da={degree:Ac,div:Wc,mod:Uc,CommutativeRing0:function(){return Hc}};var gt=function(t){return t.mempty};var $c=function(t,e,n){var r=0,o;return function(a){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,o=n(),r=2,o}},Lt={Applicative0:function(){return $t},Bind1:function(){return je}},je={bind:Sc,Apply0:function(){return Bu(0)}},$t={pure:Ic,Apply0:function(){return Bu(0)}},qc=$c("functorEffect","Effect",function(){return{map:Hr($t)}}),Bu=$c("applyEffect","Effect",function(){return{apply:ln(Lt),Functor0:function(){return qc(0)}}}),A=qc(20),va=Bu(23);var ht={liftEffect:Y(Z),Monad0:function(){return Lt}},It=function(t){return t.liftEffect};var Oc=function(t){return function(){return{value:t}}};var Gt=function(t){return function(){return t.value}},Bc=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},Jr=function(t){return function(e){return function(){e.value=t}}};var Sv=bt(A),Je=Oc,Nv=Bc,ur=function(t){return Nv(function(e){var n=t(e);return{state:n,value:n}})},ku=function(t){return function(e){return Sv(ur(t)(e))}};function kc(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function zc(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Gr(t){return function(){return t.getContext("2d")}}function Vr(t){return function(){return t.width}}function Qr(t){return function(){return t.height}}function zu(t){return function(e){return function(){t.width=e}}}function ju(t){return function(e){return function(){t.height=e}}}function Ju(t){return function(){return t.toDataURL()}}function Ge(t){return function(e){return function(){t.fillStyle=e}}}function jc(t){return function(e){return function(){t.globalCompositeOperation=e}}}function Gu(t){return function(){t.beginPath()}}function Vu(t){return function(){t.fill()}}function Qu(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function Xu(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function Yu(t){return function(e){return function(){t.translate(e.translateX,e.translateY)}}}function Ku(t){return function(e){return function(){t.transform(e.a,e.b,e.c,e.d,e.e,e.f)}}}function Jc(t){return function(e){return function(){t.textAlign=e}}}function Gc(t){return function(e){return function(){t.textBaseline=e}}}function ir(t){return function(e){return function(){t.font=e}}}function Xr(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function Zu(t){return function(){t.save()}}function tl(t){return function(){t.restore()}}function el(t){return function(e){return function(n){return function(r){return function(o){return function(a){return function(){t.drawImage(e,n,r,o,a)}}}}}}}var X=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),rt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var cr=function(t){return function(e){return function(n){if(n instanceof X)return t(n.value0);if(n instanceof rt)return e(n.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}};var kv=oe(va),_e=function(){function t(){}return t.value=new t,t}(),zv=function(){function t(){}return t.value=new t,t}(),jv=function(){function t(){}return t.value=new t,t}(),Jv=function(){function t(){}return t.value=new t,t}(),Gv=function(){function t(){}return t.value=new t,t}(),Yr=function(){function t(){}return t.value=new t,t}(),ge=function(){function t(){}return t.value=new t,t}(),Cn=function(){function t(){}return t.value=new t,t}(),Ve=function(){function t(){}return t.value=new t,t}(),Kr=function(){function t(){}return t.value=new t,t}(),Zr=function(){function t(){}return t.value=new t,t}();var rl=function(){function t(){}return t.value=new t,t}(),Vv=function(){function t(){}return t.value=new t,t}(),Qv=function(){function t(){}return t.value=new t,t}(),Xv=function(){function t(){}return t.value=new t,t}(),Yv=function(){function t(){}return t.value=new t,t}(),Kv=function(){function t(){}return t.value=new t,t}(),Zv=function(){function t(){}return t.value=new t,t}(),t1=function(){function t(){}return t.value=new t,t}(),e1=function(){function t(){}return t.value=new t,t}(),n1=function(){function t(){}return t.value=new t,t}(),r1=function(){function t(){}return t.value=new t,t}(),o1=function(){function t(){}return t.value=new t,t}(),a1=function(){function t(){}return t.value=new t,t}(),u1=function(){function t(){}return t.value=new t,t}(),l1=function(){function t(){}return t.value=new t,t}(),i1=function(){function t(){}return t.value=new t,t}(),c1=function(){function t(){}return t.value=new t,t}(),f1=function(){function t(){}return t.value=new t,t}(),s1=function(){function t(){}return t.value=new t,t}(),d1=function(){function t(){}return t.value=new t,t}(),p1=function(){function t(){}return t.value=new t,t}(),v1=function(){function t(){}return t.value=new t,t}(),m1=function(){function t(){}return t.value=new t,t}(),_1=function(){function t(){}return t.value=new t,t}(),g1=function(){function t(){}return t.value=new t,t}(),h1=function(){function t(){}return t.value=new t,t}(),pt=function(t){return function(e){return function(){Zu(t)();var r=e();return tl(t)(),r}}},ol=function(t){return function(e){return kc(t)(e(s.value))(function(n){return e(f.create(n))})}};var fr=function(t){return function(e){var n=function(r){if(r instanceof _e)return"top";if(r instanceof zv)return"hanging";if(r instanceof jv)return"middle";if(r instanceof Jv)return"alphabetic";if(r instanceof Gv)return"ideographic";if(r instanceof Yr)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return Gc(t)(n(e))}},sr=function(t){return function(e){var n=function(r){if(r instanceof ge)return"left";if(r instanceof Cn)return"right";if(r instanceof Ve)return"center";if(r instanceof Kr)return"start";if(r instanceof Zr)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return Jc(t)(n(e))}};var Yc=function(t){return function(e){var n=function(r){if(r instanceof rl)return"source-over";if(r instanceof Vv)return"source-in";if(r instanceof Qv)return"source-out";if(r instanceof Xv)return"source-atop";if(r instanceof Yv)return"destination-over";if(r instanceof Kv)return"destination-in";if(r instanceof Zv)return"destination-out";if(r instanceof t1)return"destination-atop";if(r instanceof e1)return"lighter";if(r instanceof n1)return"copy";if(r instanceof r1)return"xor";if(r instanceof o1)return"multiply";if(r instanceof a1)return"screen";if(r instanceof u1)return"overlay";if(r instanceof l1)return"darken";if(r instanceof i1)return"lighten";if(r instanceof c1)return"color-dodge";if(r instanceof f1)return"color-burn";if(r instanceof s1)return"hard-light";if(r instanceof d1)return"soft-light";if(r instanceof p1)return"difference";if(r instanceof v1)return"exclusion";if(r instanceof m1)return"hue";if(r instanceof _1)return"saturation";if(r instanceof g1)return"color";if(r instanceof h1)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return jc(t)(n(e))}},Kc=function(t){return function(e){return kv(ju(t)(e.height))(zu(t)(e.width))}},Zc=function(t){return zc(t,f.create,s.value)},tf=function(t){return function(){var n=Vr(t)(),r=Qr(t)();return{width:n,height:r}}},ef=function(t){return function(e){return function(){Gu(t)();var r=e();return Vu(t)(),r}}};var ma=function(t){return function(e){return e(function(n){return t(n)})}},sn=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var St=function(t){return t.translate},nf=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}};var Ft=function(t){return t.position},Te=function(t){return function(e){return function(n){return n(t)(e)}}},R1=function(t){var e=d(t);return function(n){return ma(function(r){var o=e(Te(r)),a=n(r);return function(u){return o(a(u))}})}};var dn=function(t){return t.mapLayerWrapper};var Rt=function(t){return t.draw},D1=function(t){var e=St(t);return function(n){return function(r){return function(o){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(o)}}}},We=function(t){var e=y(t);return function(n){var r=D1(n);return function(o){return function(a){return function(u){if(o instanceof s)return e(u);if(o instanceof f)return r(o.value0)(a)(u);throw new Error("Failed pattern match at Sjablong.Layer (line 61, column 1 - line 61, column 115): "+[o.constructor.name,a.constructor.name,u.constructor.name])}}}}},Nt=function(t){return t.dragStart},Pt=function(t){return t.dragEnd},At=function(t){return t.drag},Mt=function(t){return t.containsPoint},_a=function(t){var e=R1(t);return{position:ma(function(n){return Ft(n)}),translate:function(n){return e(function(r){return St(r)(n)})},containsPoint:function(n){return ma(function(r){return Mt(r)(n)})},draw:function(n){return ma(function(r){return Rt(r)(n)})},dragStart:function(n){return e(function(r){return Nt(r)(n)})},drag:function(n){return e(function(r){return At(r)(n)})},dragEnd:e(function(n){return Pt(n)})}};var rf=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),o=t,a=0;o!==e;)r[a++]=o,o+=n;return r[a]=o,r},y1=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},F1=function(t,e){for(var n=[],r=0,o=0;o<t;o++)n[r++]=e;return n},w1=typeof Array.prototype.fill=="function"?y1:F1,of=function(){function t(o,a){this.head=o,this.tail=a}var e={};function n(o){return function(a){return new t(o,a)}}function r(o){for(var a=[],u=0,l=o;l!==e;)a[u++]=l.head,l=l.tail;return a}return function(o,a){return r(o(n)(e)(a))}}(),wt=function(t){return t.length};var af=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var uf=function(t,e,n,r){for(var o=0,a=r.length;o<a;o++)if(n(r[o]))return t(o);return e};var lf=function(t,e,n,r,o){if(n<0||n>=o.length)return e;var a=o.slice();return a[n]=r,t(a)},pn=function(t){return t.slice().reverse()},vn=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var o=t[n],a=0,u=o.length;a<u;a++)e.push(o[a]);return e};var cf=function(t,e,n){return n.slice(t,e)},ff=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,o=new Array(r),a=0;a<r;a++)o[a]=t(e[a])(n[a]);return o},sf=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1},df=function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0},pf=function(t,e){return t[e]};var Tn=function(t){return t.defer};var pr=function(t){return t};var al={map:function(t){return function(e){return t(e)}}};var vf={apply:function(t){return function(e){return t(e)}},Functor0:function(){return al}},C1={bind:function(t){return function(e){return e(t)}},Apply0:function(){return vf}},T1={pure:pr,Apply0:function(){return vf}},mf={Applicative0:function(){return T1},Bind1:function(){return C1}};var Zt=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),te=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Qe=function(t){return t.tailRecM};var x1=function(t){var e=function(n){var r=!1,o;function a(u){if(u instanceof Zt){n=t(u.value0);return}if(u instanceof te)return r=!0,u.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[u.constructor.name])}for(;!r;)o=a(n);return o};return function(n){return e(t(n))}};var _f={tailRecM:function(t){var e=function(r){return r},n=x1(function(r){return e(t(r))});return function(r){return pr(n(r))}},Monad0:function(){return mf}};var gf=function(t){return function(e){return function(){return t(e())}}},hf=function(t){return function(){return t}},Rf=function(t){return function(e){return function(){return e(t())()}}};function ll(t){return function(e){return function(n){return function(){for(var r=t;r<e;r++)n(r)()}}}}var N1=function(t,e,n){var r=0,o;return function(a){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,o=n(),r=2,o}};var ga={map:gf};var wf={Applicative0:function(){return bf},Bind1:function(){return il}},il={bind:Rf,Apply0:function(){return Cf(0)}},bf={pure:hf,Apply0:function(){return Cf(0)}},Cf=N1("applyST","Control.Monad.ST.Internal",function(){return{apply:ln(wf),Functor0:function(){return ga}}});function cl(){return[]}function P1(t){return t}var Tf=P1;function A1(t){return t.slice()}var Ef=A1;var Mf=function(t,e){return e.push(t)};var Ra=function(e){return function(n){return function(){return e(n)}}},fl=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var O1=M(il);var sl=Ra(Tf);var B1=Ra(Ef),xf=function(t){return function(e){return function(){var r=B1(e)();return t(r)(),sl(r)()}}};var Lf=function(t){return O1(t)(sl)()};var vr=fl(Mf);var Sf=function(t){return function(e){return t&&e}},Nf=function(t){return function(e){return t||e}},Pf=function(t){return!t};var Da=function(t){return t.not};var eo=function(t){return t.ff};var mn=function(t){return t.disj},he={ff:!1,tt:!0,implies:function(t){return function(e){return mn(he)(Da(he)(t))(e)}},conj:Sf,disj:Nf,not:Pf};var Af=function(t){return function(e){return function(n){for(var r=e,o=n.length,a=o-1;a>=0;a--)r=t(n[a])(r);return r}}},Wf=function(t){return function(e){return function(n){for(var r=e,o=n.length,a=0;a<o;a++)r=t(r)(n[a]);return r}}};var L=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Xe=function(t){return t.value0};var _n=function(t){return function(e){return function(n){return t(new L(e,n))}}};var wa=function(t){return t};var am=function(t){var e=mn(t);return{append:function(n){return function(r){return e(n)(r)}}}};var gl=function(t){var e=am(t);return{mempty:eo(t),Semigroup0:function(){return e}}};var m=function(t){return t};var hl=function(){return m};var Of=hl();var En=function(){return Of};var Rl=function(){return function(){return function(){return function(){return function(t){return Of}}}}};var fm=Y(Z),sm=Q(Yn);var dm=Rl()()()(),kt=function(t){return t.foldr};var xn=function(t){var e=oe(t.Apply0()),n=y(t);return function(r){var o=kt(r);return function(a){return o(function(u){return e(a(u))})(n(void 0))}}},uo=function(t){var e=xn(t);return function(n){return $(e(n))}};var vt=function(t){return t.foldl};var kf=function(t){var e=vt(t);return function(n){var r=function(o){return function(a){if(o instanceof s)return new f(a);if(o instanceof f)return new f(function(){var u=sm(n(o.value0)(a))(U.value);return u?o.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[o.constructor.name,a.constructor.name])}};return e(r)(s.value)}},lo=function(t){var e=J(t);return function(n){return kf(n)(e)}};var io=function(t){var e=vt(t);return function(n){return e(le(n))(me(n))}};var zf=function(t){var e=kt(t);return function(n){var r=H(n.Semigroup0()),o=gt(n);return function(a){return e(function(u){return function(l){return r(a(u))(l)}})(o)}}},st={foldr:Af,foldl:Wf,foldMap:function(t){return zf(st)(t)}};var He=function(t){return t.foldMap};var Ln=function(t){var e=He(t);return function(n){return dm(wa)(e(gl(n)))}};var co=function(t){var e=Ln(t);return function(n){return e(n)(fm)}};var fo=function(t){return function(e,n,r,o,a){return t(e)(n)(r)(o)(a)}};var Ye=function(t){return function(e){return function(n){return t(e,n)}}},Ta=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},Ea=function(t){return function(e){return function(n){return function(r){return function(o){return t(e,n,r,o)}}}}},yl=function(t){return function(e){return function(n){return function(r){return function(o){return function(a){return t(e,n,r,o,a)}}}}}};var Xf=function(){function t(o){return[o]}function e(o){return function(a){return[o,a]}}function n(o){return function(a){return function(u){return[o,a,u]}}}function r(o){return function(a){return o.concat(a)}}return function(o){return function(a){return function(u){return function(l){return function(i){function c(p,g){switch(g-p){case 0:return u([]);case 1:return a(t)(l(i[p]));case 2:return o(a(e)(l(i[p])))(l(i[p+1]));case 3:return o(o(a(n)(l(i[p])))(l(i[p+1])))(l(i[p+2]));default:var C=p+Math.floor((g-p)/4)*2;return o(a(r)(c(p,C)))(c(C,g))}}return c(0,i.length)}}}}}}();var Vm=Y(Z),Vt=function(t){return t.traverse};var Qm=function(t){var e=Vt(t);return function(n){return e(n)(Vm)}},Re={traverse:function(t){var e=t.Apply0();return Xf(it(e))(d(e.Functor0()))(y(t))},sequence:function(t){return Qm(Re)(t)},Functor0:function(){return mt},Foldable1:function(){return st}};var i_=bt(ga);var us=Ta(ff);var Sl=function(){return us(L.create)}();var ls=function(){return yl(lf)(f.create)(s.value)}(),Nl=function(){return Ye(pf)},c_=Nl();var dt=function(t){return function(e){return xf(vr(e))(t)()}},Ll=Ta(cf),mo=function(t){return function(e){return t<=0?{before:[],after:e}:{before:Ll(0)(t)(e),after:Ll(t)(wt(e))(e)}}};var Pa=function(t){return[t]};var Pl=Ye(rf);var _o=function(t){return function(e){var n=wt(e);if(n<2)return e;if(yt)return Lf(function(){var r=function(o){return c_(e)(o)};return function(){var a=cl();return vr(r(0))(a)(),ll(1)(n)(function(u){return function(){return vr(t)(a)(),i_(vr(r(u))(a))()}})(),a}}());throw new Error("Failed pattern match at Data.Array (line 623, column 21 - line 633, column 17): "+[n.constructor.name])}};var Ze=function(){return Ea(af)(f.create)(s.value)}();var Al=function(t){return function(e){return function(n){var r=function(o){return ls(t)(e(o))(n)};return ce(s.value)(r)(Ze(n)(t))}}};var Wl=function(t){return Ye(of)(kt(t))};var Dr=vt(st);var go=function(){return Ea(uf)(f.create)(s.value)}();var Ul=function(t){var e=Q(t);return function(n){return go(function(r){return e(r)(n)})}},Hl=function(t){var e=Ul(t);return function(n){return function(r){return nr(e(n)(r))}}};var $l=$(M(Yo)),Aa=function(t){return $l(function(){var e=ce([])(Pa);return function(n){return e(t(n))}}())};var ql=Aa(Y(Z)),ho=Ye(sf);var Wa=Ye(df);var f_=co(st)(he),s_=Vt(Re),d_=Zn(Uu()(ea({reflectSymbol:function(){return"x"}})()(ea({reflectSymbol:function(){return"y"}})()(Wu)(na))(na))),p_=xn($t)(st);var Ol=function(t){var e=t.Applicative0(),n=y(e),r=d(t.Bind1().Apply0().Functor0()),o=s_(e),a=We(e);return function(u){var l=Mt(u),i=Rt(u);return{position:function(c){return n(c.position)},translate:function(c){return function(p){return n({layers:p.layers,dragOffset:p.dragOffset,position:sn(c)(p.position)})}},containsPoint:function(c){return function(p){return r(f_)(o(l(d_(c)(p.position)))(p.layers))}},draw:function(c){return function(p){return pt(c)(function(){return Yu(c)({translateX:p.position.x,translateY:p.position.y})(),p_(function(){var C=pt(c),b=i(c);return function(w){return C(b(w))}}())(pn(p.layers))()})}},dragStart:function(c){return function(p){return n({layers:p.layers,position:p.position,dragOffset:new f(c)})}},drag:function(c){return function(p){return a(Ol(t)(u))(p.dragOffset)(c)(p)}},dragEnd:function(c){return n({layers:c.layers,position:c.position,dragOffset:s.value})}}}},is=function(t){return{layers:t,position:{x:0,y:0},dragOffset:s.value}};var Ro=function(t){var e=y(t),n=We(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(o){return e({fillStyle:o.fillStyle,dragOffset:o.dragOffset,rect:{width:o.rect.width,height:o.rect.height,x:o.rect.x+r.translateX,y:o.rect.y+r.translateY}})}},containsPoint:function(r){return function(o){return e(o.rect.x<=r.x&&r.x<=o.rect.x+o.rect.width&&o.rect.y<=r.y&&r.y<=o.rect.y+o.rect.height)}},draw:function(r){return function(o){return function(){return Ge(r)(o.fillStyle)(),ef(r)(Qu(r)(o.rect))()}}},dragStart:function(r){return function(o){return e({rect:o.rect,fillStyle:o.fillStyle,dragOffset:new f(r)})}},drag:function(r){return function(o){return n(Ro(t))(o.dragOffset)(r)(o)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:s.value})}}},cs=function(t){return function(e){return{rect:e.rect,dragOffset:e.dragOffset,fillStyle:t}}},Do=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:s.value}}};var Pn=function(t){return t.throwError};var Me=function(t){return t.lift};var y_=d(_t);var Ha=function(t){return t},An=function(t){return t};var Fr={lift:function(t){var e=Pc(t)(f.create);return function(n){return Ha(e(n))}}};var F_=function(t){var e=d(t);return{map:function(n){return function(r){return e(y_(n))(r)}}}},w_=function(t){return{Applicative0:function(){return Fo(t)},Bind1:function(){return Wn(t)}}},Wn=function(t){var e=M(t.Bind1()),n=y(t.Applicative0());return{bind:function(r){return function(o){return e(r)(function(a){if(a instanceof s)return n(s.value);if(a instanceof f){var u=o(a.value0);return u}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return gs(t)}}},gs=function(t){var e=F_(t.Bind1().Apply0().Functor0());return{apply:ln(w_(t)),Functor0:function(){return e}}},Fo=function(t){return{pure:function(){var e=y(t.Applicative0());return function(n){return Ha(e(f.create(n)))}}(),Apply0:function(){return gs(t)}}};var wr=function(t){var e=y(t.Applicative0());return function(n){return Ha(e(n))}};var b_=Me(Fr);var hs=function(t){var e=M(Wn(t)),n=wr(t),r=b_(t);return function(o){return function(a){return function(u){return e(n(Ze(u)(o)))(function(l){return e(r(a(l)))(function(i){return n(Al(o)(q(i))(u))})})}}}};var Rs=function(t){return Sl(Pl(0)(wt(t)))(t)};var at=function(t){return t};function ys(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Fs(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var uF=typeof Array.from=="function",x_=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",lF=typeof String.prototype.fromCodePoint=="function",L_=typeof String.prototype.codePointAt=="function",ws=function(t){return L_?function(e){return e.codePointAt(0)}:t},bs=function(t){return function(e){return function(n){return function(r){return function(o){return function(a){var u=a.length;if(o<0||o>=u)return n;if(x_)for(var l=a[Symbol.iterator](),i=o;;--i){var c=l.next();if(c.done)return n;if(i===0)return e(r(c.value))}return t(o)(a)}}}}}};function hn(t){return t.charCodeAt(0)}function Cs(t){return String.fromCharCode(t)}var Ms=an(kr),xs=ke(kr);var tn=function(t){return t.toEnum};var Rn=function(t){return t.fromEnum};var Un=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},Hn=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var jl=function(t){return t>=hn(Ms)&&t<=hn(xs)?new f(Cs(t)):s.value},U_={succ:Un(jl)(hn),pred:Hn(jl)(hn),Ord0:function(){return ra}};var bo=function(){return{cardinality:hn(xs)-hn(Ms)|0,toEnum:jl,fromEnum:hn,Bounded0:function(){return kr},Enum1:function(){return U_}}}();var Jl=function(t){return t.join("")};var Dn=function(t){return t.length};var $n=function(t){return function(e){return e.substring(t)}};var yn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var j_=function(t,e,n){var r=0,o;return function(a){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,o=n(),r=2,o}},Co=Rn(bo);var J_=J(ie);var Ss=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var Ns=function(t){return 56320<=t&&t<=57343},Ps=function(t){return 55296<=t&&t<=56319},qa=function(t){var e=Dn(t);if(e===0)return s.value;if(e===1)return new f({head:Co(yn(0)(t)),tail:""});var n=Co(yn(1)(t)),r=Co(yn(0)(t)),o=Ps(r)&&Ns(n);return o?new f({head:Ss(r)(n),tail:$n(2)(t)}):new f({head:r,tail:$n(1)(t)})};var G_=function(t){var e=Co(yn(0)(t)),n=Ps(e)&&Dn(t)>1;if(n){var r=Co(yn(1)(t)),o=Ns(r);return o?Ss(e)(r):e}return e},Is=ws(G_);var Vl={eq:function(t){return function(e){return t===e}}},Ql={compare:function(t){return function(e){return J_(t)(e)}},Eq0:function(){return Vl}};var V_=function(t){return function(e){var n=t,r=!1,o;function a(u,l){var i=qa(l);if(i instanceof f){var c=u===0;if(c)return r=!0,new f(i.value0.head);n=u-1|0,e=i.value0.tail;return}return r=!0,s.value}for(;!r;)o=a(n,e);return o}},As=function(t){return function(e){return t<0?s.value:t===0&&e===""?s.value:t===0?new f(Is(e)):bs(V_)(f.create)(s.value)(Is)(t)(e)}},Q_={bottom:0,top:1114111,Ord0:function(){return Ql}},qn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new f(t);if(yt)return s.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return Q_},Enum1:function(){return X_(0)}}}(),X_=j_("enumCodePoint","Data.String.CodePoints",function(){return{succ:Un(tn(qn))(Rn(qn)),pred:Hn(tn(qn))(Rn(qn)),Ord0:function(){return Ql}}});var To=function(t){return Fs(t)};var Eo=function(t){return ys(t)};var Mo=t=>t.width,xo=t=>t.height;var On=t=>e=>()=>t.letterSpacing=e;var Hs=function(t){return function(e){return function(n){return function(r){return el(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var $s=function(t){return{width:Mo(t),height:xo(t)}};var Bn=t=>e=>()=>t.measureText(e);var Ba=function(t){return t.actualBoundingBoxAscent+t.actualBoundingBoxDescent};var Cr=Vt(Re)($t),Os=d(mt),ig=io(st)(Se),cg=vt(st),za=d(A),ks=lo(Br)(st);var fg=Ot(mt),zs=E(er),Bs=uo($t)(st);var js=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}},Js=function(t){return function(e){return{text:e.text,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,position:t}}},ti=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,fontSize:t}}},Gs=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,fillStyle:t}}},Vs=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,align:t}}},Qs=function(t){return function(e){return function(){var r=Bn(t)(e)();return{word:e,metrics:r}}}},ja=function(t){return function(e){return function(){var r=Bn(t)(e)();return r.width}}},sg=function(t){return function(e){return function(){var r=ja(t)(" ")(),o=Cr(Qs(t))(To(e))();return{words:_o(new rt({width:r}))(Os(X.create)(o)),width:ig(Os(function(a){return a.metrics.width})(o))+r*at(wt(o)-1|0)}}}},dg=function(t){return function(e){return Cr(sg(t))(Eo(e))}},pg=function(t){return function(e){return function(n){return function(){var o=Cr(Qs(t))(To(n))(),a=ja(t)(" ")(),u=function(i){return function(c){if(i.value1.words.length===0)return new L(i.value0,{words:[new X(c)],width:c.metrics.width});var p=i.value1.width+a+c.metrics.width>e;return p?new L(dt(i.value0)(i.value1),{words:[new X(c)],width:c.metrics.width}):new L(i.value0,{words:dt(dt(i.value1.words)(new rt({width:a})))(new X(c)),width:i.value1.width+a+c.metrics.width})}},l=cg(u)(new L([],{words:[],width:0}))(o);return l.value1.words.length===0?l.value0:dt(l.value0)(l.value1)}}}},vg=function(t){return function(e){return function(n){return za(vn)(Cr(pg(t)(e))(Eo(n)))}}},ei=function(t){return function(e){return za(Ba)(Bn(t)(e))}},mg=function(t){return function(e){return ei(t)(e.word)}};var _g=function(t){return function(e){var n=$(Aa)(e.words)(function(r){if(r instanceof X)return new f(r.value0);if(r instanceof rt)return s.value;throw new Error("Failed pattern match at Sjablong.Layer.Text (line 144, column 50 - line 146, column 30): "+[r.constructor.name])});return za(function(){var r=Ht(0);return function(o){return r(ks(o))}}())(Cr(mg(t))(n))}},gg=function(t){return function(e){return za(function(){var n=Ht(0);return function(r){return n(ks(r))}}())(Cr(_g(t))(e))}};var hg=function(t){return function(e){return{word:e.word,metrics:e.metrics,position:{x:t.x,y:t.y+e.metrics.actualBoundingBoxAscent}}}},Rg=function(t){return function(e){var n=function(o){return function(a){if(a instanceof X)return{offsetX:o.offsetX+a.value0.metrics.width,words:dt(o.words)(hg({x:t.x+o.offsetX,y:t.y})(a.value0))};if(a instanceof rt)return{offsetX:o.offsetX+a.value0.width,words:o.words};throw new Error("Failed pattern match at Sjablong.Layer.Text (line 239, column 5 - line 239, column 136): "+[o.constructor.name,a.constructor.name])}},r=Dr(n)({offsetX:0,words:[]})(e.words);return{words:r.words,position:t,width:r.offsetX}}},Dg=function(t){return function(e){return function(n){return function(r){return function(o){return function(a){return function(u){return{position:t,lines:fg(Rs(u))(function(l){var i=function(){if(n instanceof Kr||n instanceof ge)return t.x;if(n instanceof Zr||n instanceof Cn)return t.x-l.value1.width;if(n instanceof Ve)return t.x-l.value1.width/2;throw new Error("Failed pattern match at Sjablong.Layer.Text (line 223, column 13 - line 228, column 55): "+[n.constructor.name])}(),c=a*at(wt(u))+(o-1)*e*at(wt(u)-1|0),p=function(){return r instanceof _e?t.y+at(l.value0)*a*o:r instanceof Yr?t.y-c+at(l.value0)*a*o:t.y+at(l.value0)*a*o}();return Rg({x:i,y:p})(l.value1)}),lineHeight:a}}}}}}}},ka=function(t){return pt(t.context)(function(){Ge(t.context)(t.fillStyle)(),ir(t.context)(t.fontStyle+(" "+(t.fontWeight+(" "+(zs(t.fontSize)+("px "+t.fontName))))))(),sr(t.context)(ge.value)(),fr(t.context)(_e.value)(),On(t.context)(t.letterSpacing)();var n=function(){if(t.maxWidth instanceof f)return vg(t.context)(t.maxWidth.value0)(t.text)();if(t.maxWidth instanceof s)return dg(t.context)(t.text)();throw new Error("Failed pattern match at Sjablong.Layer.Text (line 200, column 12 - line 202, column 54): "+[t.maxWidth.constructor.name])}(),r=gg(t.context)(n)();return Dg(t.position)(t.fontSize)(t.align)(t.baseline)(t.lineHeight)(r)(n)})},ni=function(t){var e=t.Monad0().Applicative0(),n=y(e),r=It(t),o=We(e);return{position:function(a){return n(a.position)},translate:function(a){return function(u){return n({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:sn(a)(u.position)})}},containsPoint:function(a){return function(u){return r(pt(u.context)(function(){var i=ka(u)();return $(ho)(i.lines)(function(c){return c.position.x<=a.x&&a.x<=c.position.x+c.width&&c.position.y<=a.y&&a.y<=c.position.y+i.lineHeight})}))}},dragStart:function(a){return function(u){return n({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new f(a)})}},drag:function(a){return function(u){return o(ni(t))(u.dragOffset)(a)(u)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:s.value})},draw:function(a){return function(u){return pt(a)(function(){Ge(a)(u.fillStyle)(),ir(a)(u.fontStyle+(" "+(u.fontWeight+(" "+(zs(u.fontSize)+("px "+u.fontName))))))(),sr(a)(ge.value)(),fr(a)(_e.value)(),On(a)(u.letterSpacing)();var i=ka(u)();return Bs(i.lines)(function(c){return Bs(c.words)(function(p){return Xr(a)(p.word)(p.position.x)(p.position.y)})})()})}}}};var yg=mn(he),Fg=oe(va),Ga=function(t){return t},Xs=function(t){var e=t.Bind1().Apply0(),n=it(e),r=d(e.Functor0());return function(o){var a=Ft(o),u=St(o),l=Mt(o),i=Rt(o),c=Nt(o),p=At(o),g=Pt(o);return function(C){var b=St(C),w=Mt(C),I=Rt(C),ot=Nt(C),de=At(C),be=Pt(C);return{position:function(ct){return a(ct.value0)},translate:function(ct){return function(O){return n(r(_n(Ga))(u(ct)(O.value0)))(b(ct)(O.value1))}},containsPoint:function(ct){return function(O){return n(r(yg)(l(ct)(O.value0)))(w(ct)(O.value1))}},draw:function(ct){return function(O){return Fg(I(ct)(O.value1))(i(ct)(O.value0))}},dragStart:function(ct){return function(O){return n(r(_n(Ga))(c(ct)(O.value0)))(ot(ct)(O.value1))}},drag:function(ct){return function(O){return n(r(_n(Ga))(p(ct)(O.value0)))(de(ct)(O.value1))}},dragEnd:function(ct){return n(r(_n(Ga))(g(ct.value0)))(be(ct.value1))}}}}};var Ys=function(t){return function(e){return new L(t,e)}},Va=function(t){return Xe(t)};var bg=E(er),Ks=d(mt),Cg=H(Ce);var Zs=function(t){var e=Xs(t),n=Ol(t)(Ro(t.Applicative0())),r=Ot(t.Bind1().Apply0().Functor0());return function(o){var a=e(ni(o))(n),u=Ft(a),l=St(a),i=Mt(a),c=Nt(a),p=At(a),g=Pt(a),C=Rt(a);return{position:function(b){return u(b.layer)},translate:function(b){return function(w){return r(l(b)(w.layer))(function(I){return{fillStyle:w.fillStyle,padding:w.padding,shadow:w.shadow,layer:I}})}},containsPoint:function(b){return function(w){return i(b)(w.layer)}},dragStart:function(b){return function(w){return r(c(b)(w.layer))(function(I){return{fillStyle:w.fillStyle,padding:w.padding,shadow:w.shadow,layer:I}})}},drag:function(b){return function(w){return r(p(b)(w.layer))(function(I){return{fillStyle:w.fillStyle,padding:w.padding,shadow:w.shadow,layer:I}})}},dragEnd:function(b){return r(g(b.layer))(function(w){return{fillStyle:b.fillStyle,padding:b.padding,shadow:b.shadow,layer:w}})},draw:function(b){return function(w){return C(b)(w.layer)}}}}},td=function(){return{a:1,b:0,c:-.1,d:1,e:120,f:0}}(),Lo=function(t){var e=t.Monad0(),n=M(e.Bind1()),r=It(t),o=y(e.Applicative0());return function(a){return function(u){return function(l){return function(i){return function(c){return n(r(ka(c)))(function(p){var g=function(ot){return Do({x:ot.position.x-(u.paddingX-l.offsetX)*c.fontSize,y:ot.position.y-(u.paddingY-l.offsetY)*c.fontSize,width:ot.width+2*u.paddingX*c.fontSize,height:p.lineHeight+2*u.paddingY*c.fontSize})("rgba(0,0,0,"+(bg(i)+")"))},C=Ks(g)(p.lines),b=function(ot){return Do({x:ot.position.x-u.paddingX*c.fontSize,y:ot.position.y-u.paddingY*c.fontSize,width:ot.width+2*u.paddingX*c.fontSize,height:p.lineHeight+2*u.paddingY*c.fontSize})(a)},w=Ks(b)(p.lines),I=Ys(c)(is(Cg(w)(C)));return o({layer:I,fillStyle:a,padding:u,shadow:{offset:l,opacity:i}})})}}}}}},Tg=function(t){var e=jt(t.Monad0().Bind1()),n=Lo(t);return function(r){return function(o){return e(n(o.fillStyle)(o.padding)(o.shadow.offset)(o.shadow.opacity))(r(Va(o.layer)))}}},ed=function(t){var e=Lo(t);return function(n){return function(r){return e(n)(r.padding)(r.shadow.offset)(r.shadow.opacity)(Va(r.layer))}}},nd=function(t){var e=Lo(t);return function(n){return function(r){return function(o){return e(o.fillStyle)(o.padding)(n)(r)(Va(o.layer))}}}},Qa=function(t){var e=Tg(t),n=y(t.Monad0().Applicative0());return function(r){return e(function(o){return n(r(o))})}},rd=function(t){var e=Qa(t);return function(n){return e(ti(n))}},od=function(t){var e=Qa(t);return function(n){return e(js(n))}};var Mg=rn(on);var ri=function(t){var e=t.Monad0(),n=e.Applicative0(),r=y(n),o=M(e.Bind1()),a=It(t),u=We(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:sn(l)(i.position)})}},containsPoint:function(l){return function(i){return o(a(Gt(i.image)))(function(c){if(c instanceof s)return r(!1);if(c instanceof f)return r(i.position.x<=l.x&&l.x<=i.position.x+Mo(c.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+xo(c.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Sjablong.Layer.Image (line 78, column 5 - line 84, column 90): "+[c.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new f(l)})}},drag:function(l){return function(i){return u(ri(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:s.value})},draw:function(l){return function(i){return function(){var p=Gt(i.image)();if(p instanceof s)return void 0;if(p instanceof f)return pt(l)(function(){return Yc(l)(i.composite)(),Hs(l)(p.value0)(i.position)(nf(i.scale)($s(p.value0)))()})();throw new Error("Failed pattern match at Sjablong.Layer.Image (line 92, column 5 - line 98, column 54): "+[p.constructor.name])}}}}};var ad=function(t){return function(e){return{image:e.image,scale:e.scale,composite:e.composite,dragOffset:e.dragOffset,position:t}}},ud=function(t){var e=It(t);return function(n){return function(r){return function(o){return function(a){return e(function(){var l=Je(s.value)();return ol(n)(function(){var i=$(ku)(l);return function(c){return i(q(c))}}())(),{image:l,position:r,scale:o,composite:a,dragOffset:s.value}})}}}}};var ld=function(t){var e=t.Monad0(),n=Mg(e.Bind1()),r=It(t),o=y(e.Applicative0());return function(a){return function(u){return n(r(ol(a)(function(){var l=$(ku)(u.image);return function(i){return l(q(i))}}())))(function(){return o(u)})}}};var Ig=Vt(Re),Sg=co(st)(he),Ng=xn($t)(st),Pg=Me(Fr),Ag=Y(Z);var id=function(t){var e=t.Applicative0(),n=y(e),r=t.Bind1().Apply0().Functor0(),o=Ot(r),a=Ig(e),u=d(r),l=M(Wn(t)),i=Pg(t),c=wr(t),p=hs(t),g=y(Fo(t));return function(C){var b=St(C),w=Mt(C),I=Rt(C),ot=Ft(C),de=Nt(C),be=At(C),ct=Pt(C);return{position:q(n({x:0,y:0})),translate:function(O){return function(R){return o(a(b(O))(R.layers))(function(Wt){return{dragIndex:R.dragIndex,layers:Wt}})}},containsPoint:function(O){return function(R){return u(Sg)(a(w(O))(R.layers))}},draw:function(O){return function(R){return Ng(function(){var Wt=pt(O),Dt=I(O);return function(Xt){return Wt(Dt(Xt))}}())(pn(R.layers))}},dragStart:function(O){return function(R){return u(Ht(R))(An(l(i(a(w({x:O.offsetX,y:O.offsetY}))(R.layers)))(function(Wt){return l(c(go(Ag)(Wt)))(function(Dt){return l(c(Ze(R.layers)(Dt)))(function(Xt){return l(i(ot(Xt)))(function(xt){return l(p(Dt)(de({offsetX:O.offsetX-xt.x,offsetY:O.offsetY-xt.y}))(R.layers))(function(xu){return g({dragIndex:new f(Dt),layers:xu})})})})})})))}},drag:function(O){return function(R){return u(Ht(R))(An(l(c(R.dragIndex))(function(Wt){return l(c(Ze(R.layers)(Wt)))(function(Dt){return l(i(ot(Dt)))(function(Xt){return l(p(Wt)(be({translateX:O.translateX-Xt.x,translateY:O.translateY-Xt.y}))(R.layers))(function(xt){return g({dragIndex:R.dragIndex,layers:xt})})})})})))}},dragEnd:function(O){return u(Ht({layers:O.layers,dragIndex:s.value}))(An(l(c(O.dragIndex))(function(R){return l(p(R)(ct)(O.layers))(function(Wt){return g({dragIndex:s.value,layers:Wt})})})))}}}},Wg=function(t){return{layers:t,dragIndex:s.value}},cd=Wg;var Hg=rn(on),Xa=function(t){var e=t.Monad0(),n=e.Bind1(),r=M(n),o=It(t),a=Hg(n),u=y(e.Applicative0());return function(l){return function(i){return r(o(Gt(i)))(function(c){return r(l(c))(function(p){return a(o(Jr(p)(i)))(function(){return u(p)})})})}}},fd=function(t){var e=Be(t.Monad0().Bind1().Apply0().Functor0()),n=Xa(t);return function(r){return function(o){return e(void 0)(n(r)(o))}}};var qg=jt(je),Og=function(t){return t};var Ya=function(t){var e=t.Monad0().Bind1(),n=jt(e),r=It(t),o=Be(e.Apply0().Functor0()),a=Xa(t);return function(u){var l=Ft(u),i=St(u),c=Mt(u),p=Nt(u),g=At(u),C=Pt(u),b=Rt(u);return{position:function(w){return n(l)(r(Gt(w)))},translate:function(w){return function(I){return o(I)(a(i(w))(I))}},containsPoint:function(w){return function(I){return n(c(w))(r(Gt(I)))}},dragStart:function(w){return function(I){return o(I)(a(p(w))(I))}},drag:function(w){return function(I){return o(I)(a(g(w))(I))}},dragEnd:function(w){return o(w)(a(C)(w))},draw:function(w){return function(I){return qg(b(w))(Gt(I))}}}}};var Ka=function(t){var e=fd(t);return function(n){return function(r){return e(n)(r)}}},sd=function(t){var e=Xa(t);return function(n){return function(r){return e(n)(r)}}},Bg=function(t){var e=It(t);return function(n){return function(r){return e(ur(n)(r))}}},dd=function(t){var e=Be(t.Monad0().Bind1().Apply0().Functor0()),n=Bg(t);return function(r){return function(o){return e(void 0)(n(r)(o))}}},Za=function(t){var e=d(t.Monad0().Bind1().Apply0().Functor0()),n=It(t);return function(r){return e(Og)(n(Je(r)))}};var ai={mapLayerWrapper:function(t){return function(e){var n=Ot(e.Bind1().Apply0().Functor0());return function(r){return function(o){return n(r(o.layer))(function(a){return{transform:o.transform,layer:a}})}}}}},kg=dn(ai);var vd=function(t){return function(e){return{x:t.a*e.x+t.c*e.y+t.e,y:t.b*e.x+t.d*e.y+t.f}}},tu=function(t){return function(e){return{transform:t,layer:e}}},zg=function(t){return{a:t.d/(t.a*t.d-t.b*t.c),b:t.b/(t.b*t.c-t.a*t.d),c:t.c/(t.b*t.c-t.a*t.d),d:t.a/(t.a*t.d-t.b*t.c),e:(t.d*t.e-t.c*t.f)/(t.b*t.c-t.a*t.d),f:(t.b*t.e-t.a*t.f)/(t.a*t.d-t.b*t.c)}},eu=function(t){var e=d(t.Bind1().Apply0().Functor0());return function(n){var r=Ft(n),o=kg(n)(t),a=Mt(n),u=Rt(n);return{position:function(l){return e(vd(l.transform))(r(l.layer))},translate:function(){var l=St(n);return function(i){return o(l(i))}}(),containsPoint:function(l){return function(i){return a(vd(zg(i.transform))(l))(i.layer)}},dragStart:function(){var l=Nt(n);return function(i){return o(l(i))}}(),drag:function(){var l=At(n);return function(i){return o(l(i))}}(),dragEnd:o(Pt(n)),draw:function(l){return function(i){return pt(l)(function(){return Ku(l)(i.transform)(),u(l)(i.layer)()})}}}}};var jg=dn(ai);var Jg=function(t){return t},Gg={mapLayerWrapper:function(t){var e=jg(t);return function(n){var r=d(n.Bind1().Apply0().Functor0()),o=e(n);return function(a){return function(u){return r(Jg)(o(a)(u))}}}}},Vg=dn(Gg);var _d=function(t){var e=eu(t);return function(n){var r=e(n),o=Ft(r),a=Vg(n)(t),u=Mt(r),l=Rt(r);return{position:function(i){return o(i)},translate:function(){var i=St(n);return function(c){return a(i(c))}}(),containsPoint:function(i){return function(c){return u(i)(c)}},dragStart:function(){var i=Nt(n);return function(c){return a(i(c))}}(),drag:function(){var i=At(n);return function(c){return a(i(c))}}(),dragEnd:a(Pt(n)),draw:function(i){return function(c){return l(i)(c)}}}}};var ui=function(t){return function(e){return tu({a:ia(t),b:ca(t),c:-ca(t),d:ia(t),e:0,f:0})(e)}},gd=function(t){return function(e){return ui(t)(e.layer)}};var hd=function(t){return t};var oh=hd;var li=function(t){return t};var wd=function(t){if(wt(t)>0)return new f(oh(t));if(yt)return s.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var Er=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},No=function(t){return t()};var dh=function(t,e,n){var r=0,o;return function(a){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,o=n(),r=2,o}};var ph=En();var en=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),nn=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var bd=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Cd=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),fi=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Td={defer:function(t){var e=Er(t);return function(n,r,o,a,u){var l=No(e);return l(n,r,o,a,u)}}};var kn={map:function(t){return function(e){return function(n,r,o,a,u){return r(function(l){return e(n,r,o,a,function(i,c){return r(function(p){return u(i,t(c))})})})}}}};var Fn={alt:function(t){return function(e){return function(n,r,o,a,u){return r(function(l){return t(new en(n.value0,n.value1,!1),r,o,function(i,c){return r(function(p){return i.value2?a(i,c):e(n,r,o,a,u)})},u)})}}},Functor0:function(){return kn}},vh=function(t){return function(e,n,r,o,a){var u=t(e);return a(u.value1,u.value0)}};var mh=function(t){var e=t.Monad0(),n=d(e.Bind1().Apply0().Functor0()),r=y(e.Applicative0()),o=Qe(t);return function(a){return function(u){var l=function(i){var c=!1,p;function g(C){var b=C(void 0);if(b instanceof bd){i=b.value0;return}if(b instanceof Cd)return c=!0,n(Zt.create)(b.value0);if(b instanceof fi)return c=!0,r(new te(new L(b.value1,b.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[b.constructor.name])}for(;!c;)p=g(i);return p};return o(l)(function(i){return u(a,bd.create,Cd.create,function(c,p){return new fi(c,new X(p))},function(c,p){return new fi(c,new rt(p))})})}}},Ed=vh(function(t){return new L(t.value1,t)});var _h={index:0,line:1,column:1},gh=function(t){var e=d(t.Monad0().Bind1().Apply0().Functor0()),n=mh(t);return function(r){return function(o){var a=new en(r,_h,!1);return e(Xe)(n(a)(o))}}},hh=gh(_f),Md=function(t){var e=hh(t);return function(n){return ph(e(n))}};var ru=function(t){return function(e){return t.value2&&!e.value2?new en(e.value0,e.value1,!0):e}},wn={apply:function(t){return function(e){return function(n,r,o,a,u){return r(function(l){return t(n,r,o,a,function(i,c){return r(function(p){var g=ru(n)(i);return e(g,r,o,a,function(C,b){return r(function(w){return u(ru(g)(C),c(b))})})})})})}}},Functor0:function(){return kn}};var Mr={pure:function(t){return function(e,n,r,o,a){return a(e,t)}},Apply0:function(){return wn}};var zn={bind:function(t){return function(e){return function(n,r,o,a,u){return r(function(l){return t(n,r,o,a,function(i,c){return r(function(p){var g=e(c);return g(ru(n)(i),r,o,a,u)})})})}}},Apply0:function(){return wn}},Rh=jt(zn);var xd={Applicative0:function(){return Mr},Bind1:function(){return zn}};var di={throwError:function(t){return function(e,n,r,o,a){return o(e,t)}},Monad0:function(){return xd}},Dh=Pn(di),yh=function(t){return function(e){return Dh(new nn(t,e))}},xr=function(t){return Rh(yh(t))(Ed)};var ou={tailRecM:function(t){return function(e){return function(n,r,o,a,u){var l=dh("loop","Parsing",function(){return function(c,p,g){var C=t(p);return C(c,r,o,a,function(b,w){var I=ru(c)(b);if(w instanceof Zt){var ot=g===0;return ot?r(function(de){return l(288)(I,w.value0,30)}):l(290)(I,w.value0,g-1|0)}if(w instanceof te)return u(I,w.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[w.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return xd}};var $e=function(){function t(){}return t.value=new t,t}(),qe=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Lr={foldr:function(t){return function(e){var n=function(){var o=function(a){return function(u){var l=a,i=!1,c;function p(g,C){if(C instanceof $e)return i=!0,g;if(C instanceof qe){l=new qe(C.value0,g),u=C.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[g.constructor.name,C.constructor.name])}for(;!i;)c=p(l,u);return c}};return o($e.value)}(),r=vt(Lr)($(t))(e);return function(o){return r(n(o))}}},foldl:function(t){var e=function(n){return function(r){var o=n,a=!1,u;function l(i,c){if(c instanceof $e)return a=!0,i;if(c instanceof qe){o=t(i)(c.value0),r=c.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[c.constructor.name])}for(;!a;)u=l(o,r);return u}};return e},foldMap:function(t){var e=H(t.Semigroup0()),n=gt(t);return function(r){return vt(Lr)(function(o){var a=e(o);return function(u){return a(r(u))}})(n)}}};var Wd=Ct(Fn),Yh=Tn(Td);var Kh=oe(wn);var Zh=Xi(wn);var Ud=function(t){return function(e){return Wd(t)(Yh(function(n){return xr("Expected "+e(void 0))}))}},pi=function(t){return function(e){return Wd(t)(xr("Expected "+e))}};var Ir=function(t){return function(e,n,r,o,a){return t(e,n,r,function(u,l){return o(new en(u.value0,u.value1,e.value2),l)},a)}};var Wo=function(t){return function(e){return function(n){return Zh(Kh(t)(n))(e)}}};var mi=M(zn),t0=Qe(ou),e0=Ct(Fn),au=y(Mr),n0=Wl(Lr);var r0=function(t){return mi($(t0)($e.value)(function(e){return e0(mi(t)(function(n){return au(new Zt(new qe(n,e)))}))(au(new te(e)))}))(function(e){return au(pn(n0(e)))})},_i=function(t){return mi(r0(t))(function(e){var n=wd(e);if(n instanceof s)return xr("Expected at least 1");if(n instanceof f)return au(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var gi=Rn(qn),a0=jr(da),u0=un(),l0=tn(bo);var i0=E(oa);var hi=function(t){return function(e){return function(n){var r=gi(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var o=As(0)(n);return o instanceof f&&gi(o.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-a0(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},c0=function(t){return function(e){return function(n){var r=t,o=e,a=!1,u;function l(i,c,p){var g=qa(c);if(g instanceof s)return a=!0,i;if(g instanceof f){var C=function(){if(or(g.value0.tail))return hi(i)(g.value0.head)(p);if(yt)return hi(i)(g.value0.head)(g.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=C,o=g.value0.tail,n=p;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[g.constructor.name])}for(;!a;)u=l(r,o,n);return u}}};var Ri=function(t){return fo(function(e){return function(n){return function(r){return function(o){return function(a){var u=qa(e.value0);if(u instanceof s)return o(e,new nn("Unexpected EOF",e.value1));if(u instanceof f){var l=gi(u.value0.head),i=l<0||l>65535;if(i)return o(e,new nn("Expected Char",e.value1));var c=u0(l0(l)),p=t(c);return p?a(new en(u.value0.tail,hi(e.value1)(u.value0.head)(u.value0.tail),!0),c):o(e,new nn("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[u.constructor.name])}}}}})};var Di=fo(function(t){return function(e){return function(n){return function(r){return function(o){var a=or(t.value0);return a?o(new en(t.value0,t.value1,!0),void 0):r(t,new nn("Expected EOF",t.value1))}}}}}),$d=function(t){return fo(function(e){return function(n){return function(r){return function(o){return function(a){var u=t(e.value0);if(u instanceof X)return o(e,new nn(u.value0,e.value1));if(u instanceof rt)return a(new en(u.value0.remainder,c0(e.value1)(u.value0.consumed)(u.value0.remainder),!or(u.value0.consumed)),u.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[u.constructor.name])}}}}})};var yi=$d(function(t){return new rt({value:t,consumed:t,remainder:""})});var fe=function(t){return pi(Ri(function(e){return e===t}))(i0(t))};var _0=E($u(oa));var g0=Hl(Zo);var Bd=function(t){return Ud(Ri($(g0)(t)))(function(e){return"none of "+_0(t)})};function uu(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var o in t)({}).hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}var lu=function(){return function(){return function(t){return function(e){return uu(t,e)}}}};var y0=E(er),iu=H(Ce),Uo=Ot(mt),Gd=vt(st),wi=d(A),Vd=lo(Br)(st),Sr=Vt(Re)($t),bi=io(st)(Se),De=d(mt);var ye=d(kn),Oe=Ct(Fn),su=oe(wn),F0=lu()(),Fi=uo($t)(st),Qd=Be(kn);var du=function(){function t(){}return t.value=new t,t}(),Xd=function(){function t(){}return t.value=new t,t}(),pu=function(){function t(){}return t.value=new t,t}(),Yd=function(){function t(){}return t.value=new t,t}();var Kd=function(t){return t.text};var vu=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof du)return e.weight.normal;if(n.weight instanceof Xd)return e.weight.bold;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 224, column 14 - line 226, column 37): "+[n.weight.constructor.name])}(),o=function(){if(n.style instanceof pu)return e.style.normal;if(n.style instanceof Yd)return e.style.italic;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 221, column 13 - line 223, column 39): "+[n.style.constructor.name])}();return ir(t)(o+(" "+(r+(" "+(y0(e.size)+("px "+e.name))))))}}};var Zd=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,fillStyle:t}}},w0=function(t){return or(Kd(t.fragment))},b0=function(t){return Wa(w0)(t.word)},tp=function(t){return $(Wa)(t.words)(function(e){if(e instanceof X)return b0(e.value0);if(e instanceof rt)return e.value0.width===0;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 293, column 51 - line 295, column 36): "+[e.constructor.name])})};var ep=function(t){return function(e){var n=function(o){return function(a){var u=mo(1)(t(a.text));if(u.before.length===1&&u.before[0]===""&&u.after.length===0)return{splits:o.splits,split:o.split};if(u.before.length===1&&u.after.length===0)return{splits:o.splits,split:dt(o.split)({style:a.style,weight:a.weight,text:u.before[0]})};if(u.before.length===1&&u.before[0]===""){var l=mo(wt(u.after)-1|0)(u.after);return l.after.length===1&&l.after[0]===""?{splits:iu(dt(o.splits)(o.split))(Uo(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[]}:l.after.length===1?{splits:iu(dt(o.splits)(o.split))(Uo(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:o.splits,split:o.split}}if(u.before.length===1){var l=mo(wt(u.after)-1|0)(u.after);return l.after.length===1&&l.after[0]===""?{splits:iu(dt(o.splits)(dt(o.split)({style:a.style,weight:a.weight,text:u.before[0]})))(Uo(l.before)(function(c){return[{style:a.style,weight:a.weight,text:c}]})),split:[]}:l.after.length===1?{splits:iu(dt(o.splits)(dt(o.split)({style:a.style,weight:a.weight,text:u.before[0]})))(Uo(l.before)(function(c){return[{style:a.style,weight:a.weight,text:c}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:o.splits,split:o.split}}return{splits:o.splits,split:o.split}}},r=Gd(n)({splits:[],split:[]})(e);return dt(r.splits)(r.split)}},np=ep(To),Ci=function(t){return{text:t,style:pu.value,weight:du.value}},C0=function(t){return function(e){return{fragment:t,metrics:e}}},T0=function(t){return function(e){return function(n){return pt(t)(function(){return vu(t)(e)(n)(),ja(t)(n.text)()})}}},rp=function(t){return function(e){return T0(t)(e)({style:pu.value,weight:du.value,text:" "})}},E0=function(t){return function(e){return function(n){return pt(t)(function(){return vu(t)(e)(n)(),ei(t)(n.text)()})}}},M0=function(t){return function(e){return function(n){return wi(function(){var r=Ht(0);return function(o){return r(Vd(o))}}())(Sr(E0(t)(e))(n))}}},x0=function(t){return function(e){return function(n){return pt(t)(function(){return vu(t)(e)(n)(),Bn(t)(n.text)()})}}},L0=function(t){return function(e){return function(n){return wi(C0(n))(x0(t)(e)(n))}}},op=function(t){return function(e){return function(n){return function(){var o=Sr(L0(t)(e))(n)(),a=bi(De(function(u){return u.metrics.width})(o));return{word:o,width:a}}}}},I0=function(t){return function(e){return function(n){return function(){var o=rp(t)(e)(),a=Sr(op(t)(e))(np(n))();return{words:_o(new rt({width:o}))(De(X.create)(a)),width:bi(De(function(u){return u.width})(a))+o*at(wt(a)-1|0)}}}}},S0=function(t){return function(e){return function(n){return function(r){var o=np(r);return function(){var u=Sr(op(t)(e))(o)(),l=rp(t)(e)(),i=function(p){return function(g){if(p.value1.words.length===0)return new L(p.value0,{words:[new X(g)],width:g.width});var C=p.value1.width+l+g.width>n;return C?new L(dt(p.value0)(p.value1),{words:[new X(g)],width:g.width}):new L(p.value0,{words:dt(dt(p.value1.words)(new rt({width:l})))(new X(g)),width:p.value1.width+l+g.width})}},c=Gd(i)(new L([],{words:[],width:0}))(u);return c.value1.words.length===0?c.value0:dt(c.value0)(c.value1)}}}}};var Ho=function(){var t=ye(li);return function(e){return t(_i(e))}}(),$o=ye(function(t){return Ci(Jl(t))})(Ho(Bd(["_","*"]))),ap=ep(Eo),N0=function(t){return function(e){return function(n){return function(r){return wi(vn)(Sr(S0(t)(e)(n))(ap(r)))}}}},P0=function(t){return function(e){return{fragment:e.fragment,metrics:e.metrics,position:{x:t.x,y:t.y+e.metrics.actualBoundingBoxAscent}}}},A0=function(t){return function(e){var n=function(a){return function(u){return{offsetX:a.offsetX+u.metrics.width,fragments:dt(a.fragments)(P0({x:t.x+a.offsetX,y:t.y})(u))}}},r=Dr(n)({offsetX:0,fragments:[]})(e.word),o=Ht(0)(Vd(De(function(a){return Ba(function(u){return u.metrics}(a))})(e.word)));return{fragments:r.fragments,position:t,width:r.offsetX,height:o}}},W0=function(t){return function(e){return function(n){return function(r){if(tp(r))return{words:[],position:t,width:0,height:n*e.size};if(yt){var o=function(u){return function(l){if(l instanceof X)return{offsetX:u.offsetX+l.value0.width,words:dt(u.words)(A0({x:t.x+u.offsetX,y:t.y})(l.value0))};if(l instanceof rt)return{offsetX:u.offsetX+l.value0.width,words:u.words};throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 396, column 9 - line 399, column 68): "+[u.constructor.name,l.constructor.name])}},a=Dr(o)({offsetX:0,words:[]})(r.words);return{words:a.words,position:t,width:a.offsetX,height:r.height}}throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 391, column 1 - line 391, column 101): "+[t.constructor.name,e.constructor.name,n.constructor.name,r.constructor.name])}}}},U0=function(t){return function(e){return function(n){return function(r){return function(o){return function(a){return function(u){var l=bi(De(function(p){return p.height})(u))+(o-1)*e.size*at(wt(u)-1|0),i=function(p){return function(g){return{offsetY:p.offsetY+g.height,lines:function(){var C=function(){return r instanceof _e?t.y+p.offsetY:r instanceof Yr?t.y+p.offsetY-l:t.y+p.offsetY}(),b=function(){if(n instanceof Kr||n instanceof ge)return t.x;if(n instanceof Zr||n instanceof Cn)return t.x-g.width;if(n instanceof Ve)return t.x-g.width/2;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 376, column 20 - line 381, column 59): "+[n.constructor.name])}();return dt(p.lines)(W0({x:b,y:C})(e)(a)(g))}()}}},c=Dr(i)({offsetY:0,lines:[]})(u);return{lines:c.lines,position:t}}}}}}}},cu=function(t){return{text:t.text,weight:t.weight,style:Yd.value}},zd=Oe(Ir(Wo(fe("_"))(fe("_"))(ye(cu)($o))))(Oe($o)(su(fe("_"))(ye(function(t){return cu(Ci(t))})(yi)))),H0=function(t){return t.fragment},$0=function(t){return De(H0)(t.word)},q0=function(t){return De($0)(ql(De(cr(f.create)(q(s.value)))(t.words)))},O0=function(t){return function(e){return function(n){return function(r){return function(){var a=M0(t)(e)(vn($l(q0)(r)))();return Uo(r)(function(u){return F0(u)({height:function(){var l=tp(u);return l?n*e.size:a}()})})}}}}},jd=function(t){return pt(t.context)(function(){Ge(t.context)(t.fillStyle)(),sr(t.context)(ge.value)(),fr(t.context)(_e.value)(),On(t.context)(t.letterSpacing)();var n=function(){if(t.maxWidth instanceof f)return N0(t.context)(t.font)(t.maxWidth.value0)(t.text)();if(t.maxWidth instanceof s)return Sr(I0(t.context)(t.font))(ap(t.text))();throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 352, column 13 - line 354, column 99): "+[t.maxWidth.constructor.name])}(),r=O0(t.context)(t.font)(t.emptyLineHeight)(n)();return U0(t.position)(t.font)(t.align)(t.baseline)(t.lineHeight)(t.emptyLineHeight)(r)})},Ti=function(t){var e=t.Monad0().Applicative0(),n=y(e),r=It(t),o=We(e);return{position:function(a){return n(a.position)},translate:function(a){return function(u){return n({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,font:u.font,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,emptyLineHeight:u.emptyLineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:sn(a)(u.position)})}},containsPoint:function(a){return function(u){return r(pt(u.context)(function(){var i=jd(u)();return $(ho)(i.lines)(function(c){return c.position.x<=a.x&&a.x<=c.position.x+c.width&&c.position.y<=a.y&&a.y<=c.position.y+c.height})}))}},dragStart:function(a){return function(u){return n({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,font:u.font,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,emptyLineHeight:u.emptyLineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new f(a)})}},drag:function(a){return function(u){return o(Ti(t))(u.dragOffset)(a)(u)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,emptyLineHeight:a.emptyLineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:s.value})},draw:function(a){return function(u){return pt(a)(function(){Ge(a)(u.fillStyle)(),sr(a)(ge.value)(),fr(a)(_e.value)(),On(a)(u.letterSpacing)();var i=jd(u)();return Fi(i.lines)(function(c){return Fi(c.words)(function(p){return Fi(p.fragments)(function(g){return function(){return vu(a)(u.font)(g.fragment)(),Xr(a)(Kd(g.fragment))(g.position.x)(g.position.y)()}})})})()})}}}},fu=function(t){return{text:t.text,style:t.style,weight:Xd.value}},B0=Oe(Ir(Wo(fe("*"))(fe("*"))(ye(De(fu))(Ho(zd)))))(su(fe("*"))(Oe(Qd([])(Di))(ye(De(fu))(Ho(zd))))),Jd=Oe(Ir(Wo(fe("*"))(fe("*"))(ye(fu)($o))))(Oe($o)(su(fe("*"))(ye(function(t){return fu(Ci(t))})(yi)))),k0=Oe(Ir(Wo(fe("_"))(fe("_"))(ye(De(cu))(Ho(Jd)))))(su(fe("_"))(Oe(Qd([])(Di))(ye(De(cu))(Ho(Jd))))),z0=ye(function(t){return vn(li(t))})(_i(Oe(k0)(Oe(B0)(ye(Pa)($o)))));var up=function(t){return function(e){var n=Md(t)(z0);if(n instanceof rt)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof X)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:pu.value,weight:du.value}]};throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 180, column 37 - line 182, column 106): "+[n.constructor.name])}};var ip=function(t){return t},cp=function(t){return t};var j0={mapLayerWrapper:function(t){return function(e){var n=d(e.Bind1().Apply0().Functor0());return function(r){return function(o){return n(ip)(r(o))}}}}},J0=dn(j0);var G0={mapLayerWrapper:function(t){return function(e){var n=d(e.Bind1().Apply0().Functor0());return function(r){return function(o){return n(cp)(r(o))}}}}},V0=dn(G0);var fp=function(t){return function(e){var n=Ft(e),r=J0(e)(t),o=Mt(e),a=Nt(e),u=At(e),l=Rt(e);return{position:function(i){return n(i)},translate:function(){var i=St(e);return function(c){return r(i(c))}}(),containsPoint:function(i){return function(c){return o(i)(c)}},dragStart:function(i){return r(a({offsetX:0,offsetY:i.offsetY}))},drag:function(i){return r(u({translateX:0,translateY:i.translateY}))},dragEnd:r(Pt(e)),draw:function(i){return function(c){return l(i)(c)}}}}},sp=function(t){var e=y(t.Applicative0());return function(n){var r=Ft(n),o=Mt(n),a=Rt(n);return{position:function(u){return r(u)},translate:function(){var u=V0(n)(t),l=St(n);return function(i){return u(l(i))}}(),containsPoint:function(u){return function(l){return o(u)(l)}},dragStart:q(e),drag:q(e),dragEnd:e,draw:function(u){return function(l){return a(u)(l)}}}}};var Ei=ip,Mi=cp;var jn=function(t){return function(e){return function(){return e[t]}}},X0=jn("URL"),Y0=jn("documentURI"),K0=jn("origin"),Z0=jn("compatMode"),tR=jn("characterSet"),eR=jn("contentType");var nR=jn("documentElement");function xi(t){return function(e){return function(){return e.createElement(t)}}}function dp(t,e,n){return t==null?e:n(t)}var ut=function(t){return dp(t,s.value,f.create)};function pp(t,e,n,r){if(typeof window<"u"){var o=window[n];if(o!=null&&r instanceof o)return e(r)}for(var a=r;a!=null;){var u=Object.getPrototypeOf(a),l=u.constructor.name;if(l===n)return e(r);if(l==="Object")return t;a=u}return t}var h=function(t){return function(e){return pp(s.value,f.create,t,e)}};var mu=function(t){return function(e){return e[t]}},cR=mu("namespaceURI"),fR=mu("prefix"),sR=mu("localName"),dR=mu("tagName");function _u(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Li(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var gu=function(t){return function(e){return function(){return e[t]}}},vR=gu("children"),mR=gu("firstElementChild"),_R=gu("lastElementChild"),gR=gu("childElementCount");var Fe=m;var Le=function(t){return function(e){return function(){return e[t]}}};var FR=Le("baseURI"),wR=Le("ownerDocument"),bR=Le("parentNode"),CR=Le("parentElement");var TR=Le("childNodes"),ER=Le("firstChild"),MR=Le("lastChild"),xR=Le("previousSibling"),LR=Le("nextSibling"),IR=Le("nodeValue");var SR=Le("textContent");function mp(t){return function(e){return function(){return e.getElementById(t)}}}var $R=d(A),Jn=function(t){var e=$R(ut),n=mp(t);return function(r){return e(n(r))}};function ne(t){return function(){return function(e){return t(e)()}}}function re(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Ii=function(){return window};var Gn=m;var _p=m,gp=m;function hp(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function Si(t){return function(){return t.click()}}function Ni(t){return function(){return t.offsetWidth}}function Pi(t){return function(){return t.offsetHeight}}var Rp=m;var Ai=function(t){return hp(s.value,f.create,t)};function hu(t){return function(){return t.checked}}function Ru(t){return function(){return t.value}}var Wi=h("HTMLInputElement");function Du(t){return function(){return t.value}}var wp=h("HTMLSelectElement");function yu(t){return function(){return t.value}}var bp=h("HTMLTextAreaElement");function Ui(t){return function(){return t.document}}function qo(t){return t.clientX}function Oo(t){return t.clientY}function Bo(t){return t.touches}var Fu=h("TouchEvent");function Cp(t,e){return e.item(t)}var wu=function(t){return function(e){return ut(Cp(t,e))}};function ko(t){return t.clientX}function zo(t){return t.clientY}var bu=h("MouseEvent");var bn=y($t),iD=rn(on),jo=Ya(ht)(_a(A)),cD=Rt(jo),Pr=Ft(jo),Tp=Nt(jo),Tu=At(jo),Ep=Pt(jo),$i=Wn(Lt),Nr=M($i),Hi=jt($i),Cu=wr(Lt),Vn=Me(Fr)(Lt),Mp=iD($i),xp=jt(je),Lp=y(Fo(Lt)),fD=Za(ht),sD=lu()(),Qn=Ka(ht);var Ar=function(t){return function(e){return function(n){return function(){var o=Li(Rp(e))(),a=Ni(e)(),u=Pi(e)(),l=Vr(t)(),i=Qr(t)();return{x:(n.x-o.left)*l/a,y:(n.y-o.top)*i/u}}}}},we=function(t){return function(){var n=Gr(t.canvas)(),r=tf(t.canvas)();return Xu(n)({x:0,y:0,width:r.width,height:r.height})(),pt(n)(cD(n)(t.layer))()}},dD=function(t){return ne(function(e){var n=Fu(e);if(n instanceof s)return bn(void 0);if(n instanceof f){var r=wu(0)(Bo(n.value0));if(r instanceof s)return we(t);if(r instanceof f)return function(){var a=Pr(t.layer)(),u=Ar(t.canvas)(t.canvasHtmlElement)({x:at(qo(r.value0)),y:at(Oo(r.value0))})(),l={offsetX:u.x-a.x,offsetY:u.y-a.y};return Tp(l)(t.layer)(),we(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 200, column 22 - line 210, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 198, column 63 - line 210, column 22): "+[n.constructor.name])})},pD=function(t){return ne(function(e){var n=Fu(e);if(n instanceof s)return bn(void 0);if(n instanceof f){var r=wu(0)(Bo(n.value0));if(r instanceof s)return we(t);if(r instanceof f)return function(){var a=Pr(t.layer)(),u=Ar(t.canvas)(t.canvasHtmlElement)({x:at(qo(r.value0)),y:at(Oo(r.value0))})(),l={translateX:u.x-a.x,translateY:u.y-a.y};return Tu(l)(t.layer)(),we(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 228, column 22 - line 238, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 226, column 62 - line 238, column 22): "+[n.constructor.name])})},vD=function(t){return ne(function(e){var n=Fu(e);if(n instanceof s)return bn(void 0);if(n instanceof f){var r=wu(0)(Bo(n.value0));if(r instanceof s)return we(t);if(r instanceof f)return function(){var a=Pr(t.layer)(),u=Ar(t.canvas)(t.canvasHtmlElement)({x:at(qo(r.value0)),y:at(Oo(r.value0))})(),l={translateX:u.x-a.x,translateY:u.y-a.y};return Tu(l)(t.layer)(),Ep(t.layer)(),we(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 257, column 22 - line 268, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 255, column 61 - line 268, column 22): "+[n.constructor.name])})},Ip=function(t){return function(e){return An(Nr(Hi(Cu)(Vn(Zc(t))))(function(n){return Mp(Vn(Kc(n)(e)))(function(){return Nr(Vn(xp(Ui)(Ii)))(function(r){return Nr(Hi(Cu)(Vn(Jn(t)(Gn(r)))))(function(o){return Nr(Cu(Ai(o)))(function(a){return Lp({canvas:n,canvasElement:o,canvasHtmlElement:a,document:r})})})})})}))}},Sp=function(t){var e=Te(t);return function(n){return function(r){return function(){var a=fD(e(r))();return sD(n)({layer:a})}}}},mD=function(t){return ne(function(e){var n=bu(e);if(n instanceof s)return bn(void 0);if(n instanceof f)return function(){var o=Pr(t.layer)(),a=Ar(t.canvas)(t.canvasHtmlElement)({x:at(ko(n.value0)),y:at(zo(n.value0))})(),u={translateX:a.x-o.x,translateY:a.y-o.y};return Tu(u)(t.layer)(),Ep(t.layer)(),we(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 241, column 60 - line 252, column 20): "+[n.constructor.name])})},_D=function(t){return ne(function(e){var n=bu(e);if(n instanceof s)return bn(void 0);if(n instanceof f)return function(){var o=Pr(t.layer)(),a=Ar(t.canvas)(t.canvasHtmlElement)({x:at(ko(n.value0)),y:at(zo(n.value0))})(),u={translateX:a.x-o.x,translateY:a.y-o.y};return Tu(u)(t.layer)(),we(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 213, column 62 - line 223, column 20): "+[n.constructor.name])})},gD=function(t){return ne(function(e){var n=bu(e);if(n instanceof s)return bn(void 0);if(n instanceof f)return function(){var o=Pr(t.layer)(),a=Ar(t.canvas)(t.canvasHtmlElement)({x:at(ko(n.value0)),y:at(zo(n.value0))})(),u={offsetX:a.x-o.x,offsetY:a.y-o.y};return Tp(u)(t.layer)(),we(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 185, column 62 - line 195, column 20): "+[n.constructor.name])})},hD=function(t){return ne(function(e){return we(t)})};var Np=function(t){return function(e){return function(n){return An(function(){var r=Gn(n.document);return Nr(Hi(Cu)(Vn(Jn(t)(r))))(function(o){return Nr(Vn(ne(function(a){return function(){var l=Ju(n.canvas)(),i=xi("a")(gp(n.document))();_u("href")(l)(i)(),_u("download")(e)(i)();var c=Ai(i);if(c instanceof f)return Si(c.value0)();throw new Error("Failed pattern match at Sjablong.Main (line 150, column 9 - line 150, column 53): "+[c.constructor.name])}})))(function(a){return Mp(Vn(re("click")(a)(!1)(Fe(o))))(function(){return Lp(o)})})})}())}}},Eu=function(t){return function(e){return function(n){return function(){var o=Jn(e)(Gn(t.document))();if(o instanceof f){var a=wp(o.value0);if(a instanceof f){var u=Du(a.value0)();n(u)();var l=ne(function(i){return xp(n)(Du(a.value0))})();return re("input")(l)(!1)(Fe(o.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 337, column 7 - line 337, column 54): "+[a.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 336, column 3 - line 336, column 79): "+[o.constructor.name])}}}},qi=function(t){return function(e){return function(n){return function(r){return function(){var a=Jn(e)(Gn(t.document))();if(a instanceof f){var u=bp(a.value0);if(u instanceof f){var l=yu(u.value0)();Qn(r(l))(n)();var i=ne(function(c){return function(){var g=yu(u.value0)();return Qn(r(g))(n)()}})();return re("input")(i)(!1)(Fe(a.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 304, column 7 - line 304, column 55): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 303, column 3 - line 303, column 79): "+[a.constructor.name])}}}}},Pp=function(t){return function(e){return function(n){return function(r){return qi(t)(e)(n)(function(o){return function(a){return function(u){return bn(a(u))}}(r(o))})}}}},Oi=function(t){return function(e){return function(n){return function(r){return Eu(t)(e)(function(o){return Qn(r(o))(n)})}}}};var Ap=function(t){return function(e){return function(n){return function(r){return function(){var a=Jn(e)(Gn(t.document))();if(a instanceof f){var u=Wi(a.value0);if(u instanceof f){var l=Ru(u.value0)();(function(){var c=fa(l);if(c instanceof f)return Qn(r(c.value0))(n)();if(c instanceof s)return void 0;throw new Error("Failed pattern match at Sjablong.Main (line 357, column 3 - line 359, column 25): "+[c.constructor.name])})();var i=ne(function(c){return function(){var g=Ru(u.value0)(),C=fa(g);if(C instanceof f)return Qn(r(C.value0))(n)();if(C instanceof s)return void 0;throw new Error("Failed pattern match at Sjablong.Main (line 363, column 5 - line 365, column 27): "+[C.constructor.name])}})();return re("input")(i)(!1)(Fe(a.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 354, column 7 - line 354, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 353, column 3 - line 353, column 79): "+[a.constructor.name])}}}}};var Bi=function(t){return function(e){return function(n){return function(r){return function(){var a=Jn(e)(Gn(t.document))();if(a instanceof f){var u=Wi(a.value0);if(u instanceof f){var l=hu(u.value0)();Qn(r(l))(n)();var i=ne(function(c){return function(){var g=hu(u.value0)();return Qn(r(g))(n)()}})();return re("input")(i)(!1)(Fe(a.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 320, column 7 - line 320, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 319, column 3 - line 319, column 79): "+[a.constructor.name])}}}}},Wp=function(t){return function(e){return function(n){return function(r){return Bi(t)(e)(n)(function(o){return function(a){return function(u){return bn(a(u))}}(r(o))})}}}};var Up=function(t){return function(){var n=gD(t)(),r=_D(t)(),o=mD(t)(),a=dD(t)(),u=pD(t)(),l=vD(t)(),i=hD(t)();return re("mousedown")(n)(!1)(Fe(t.canvasElement))(),re("mousemove")(r)(!1)(Fe(t.canvasElement))(),re("mouseup")(o)(!1)(Fe(t.canvasElement))(),re("touchstart")(a)(!1)(Fe(t.canvasElement))(),re("touchmove")(u)(!1)(Fe(t.canvasElement))(),re("touchend")(l)(!1)(Fe(t.canvasElement))(),re("input")(i)(!1)(_p(t.document))()}};var Mu=bt(A),Wr=Za(ht),DD=jt(je),yD=ud(ht),FD=sd(ht),wD=ld(ht),bD=Ot(A),Hp=Nu(je),CD=Lo(ht),TD=od(ht),ED=rd(ht),MD=nd(ht),ki=Qa(ht),Ur=Ya(ht),ji=Ur(Zs(Lt)(ht)),Jo=Te(ji),xD=Ft(ji),$p=Ka(ht),Op=fp(Lt),LD=Te(Op(ji)),qp=dd(ht),ID=ed(ht),Bp=_a(A),SD=Te(Ur(_d(Lt)(eu(Lt)(Ur(Bp))))),ND=Te(Op(Ur(Ti(ht)))),kp=sp(Lt),PD=Te(kp(Ur(ri(ht)))),AD=Te(kp(Ur(Ro($t)))),WD=Sp(id(Lt)(Bp)),se=2;var UD=function(){return{width:1080,height:1080*5/4}}(),Ji=ue(qr()(Kn({reflectSymbol:function(){return"height"}})()(Kn({reflectSymbol:function(){return"width"}})()($r)(Se))(Se)))({width:se,height:se})(UD),zi=function(){return Ji.height}(),Xn=function(){return Ji.width}(),zp=Mu(function(){var e=Ip("canvas")(Ji)();if(e instanceof f){var n=Gr(e.value0.canvas)(),r=Wr(Do({x:0,y:0,width:Xn,height:zi})("#fff"))(),o={whiteRed:{title:"#fff",titleBackground:"#c2000b",background:"#fff",bodyText:"#000",logo:function(R){return R.red}},redWhite:{title:"#C2000B",titleBackground:"white",background:"#C2000B",bodyText:"white",logo:function(R){return R.white}},paleRedWhite:{title:"#973936",titleBackground:"white",background:"#973936",bodyText:"white",logo:function(R){return R.white}},greyWhite:{title:"#222222",titleBackground:"white",background:"#222222",bodyText:"white",logo:function(R){return R.white}},blackWhite:{title:"black",titleBackground:"white",background:"black",bodyText:"white",logo:function(R){return R.white}},natoBlueWhite:{title:"#003161",titleBackground:"white",background:"#003161",bodyText:"white",logo:function(R){return R.white}},climateGreenWhite:{title:"#51824f",titleBackground:"white",background:"#51824f",bodyText:"white",logo:function(R){return R.white}},purpleWhite:{title:"#716185",titleBackground:"white",background:"#716185",bodyText:"white",logo:function(R){return R.white}}},a=Je(o.whiteRed)(),u=function(R){return $(ur)(a)(q(function(){return R==="white-red"?o.whiteRed:R==="pale-red-white"?o.paleRedWhite:R==="red-white"?o.redWhite:R==="grey-white"?o.greyWhite:R==="black-white"?o.blackWhite:R==="NATO-blue-white"?o.natoBlueWhite:R==="climate-green-white"?o.climateGreenWhite:R==="purple-white"?o.purpleWhite:o.whiteRed}()))},l={rsp:{width:4960,height:2469,variants:{red:"img/rsp/rsp_horizontaal_rood.png",white:"img/rsp/rsp_horizontaal_wit.png"}},rspVertical:{width:1334,height:2469,variants:{red:"img/rsp/rsp_verticaal_rood.png",white:"img/rsp/rsp_verticaal_wit.png"}},rood:{width:2469,height:2469,variants:{red:"img/rood/rood_rood.png",white:"img/rood/rood_wit.png"}},rspRood:{width:8e3,height:2469,variants:{red:"img/rsp-rood/rsp_rood_rood.png",white:"img/rsp-rood/rsp_rood_wit.png"}}},i=DD(Wr)(yD(l.rsp.variants.red)({x:Xn-l.rsp.width*.07-32*se,y:zi-l.rsp.height*.07-32*se})({scaleX:.07,scaleY:.07})(rl.value))(),c=function(R){return function(Wt){var Dt=R(l),Xt=Wt(Dt.variants),xt={x:Xn-Dt.width*.07-32*se,y:zi-Dt.height*.07-32*se};return FD(function(){var xu=wD(Xt),jp=ad(xt);return function(Jp){return xu(jp(Jp))}}())(i)}},p=Je(function(R){return R.rsp})();Eu(e.value0)("logo")(function(R){return Mu(function(){var Dt=$(ur)(p)(q(function(){return R==="rsp"?function(xt){return xt.rsp}:R==="rsp-vertical"?function(xt){return xt.rspVertical}:R==="rood"?function(xt){return xt.rood}:R==="rsp-rood"?function(xt){return xt.rspRood}:function(xt){return xt.rsp}}()))(),Xt=bD(Gt(a))(function(xt){return xt.logo})();return c(Dt)(Xt)()})})();var g={offsetX:.15,offsetY:.15},C={paddingX:.1,paddingY:.075},b=Hp(Wr)(CD("#c2000b")(C)(g)(.4))({text:"",lineHeight:1.4,position:{x:Xn/2,y:150*se},fillStyle:"#fff",fontName:"Bebas Neue Pro",fontStyle:"normal",fontWeight:"bold",fontSize:100*se,align:Ve.value,baseline:_e.value,letterSpacing:"0px",dragOffset:s.value,maxWidth:new f(Xn-64*se),context:n})();qi(e.value0)("title")(b)(function(R){return TD(sa(R))})(),Ap(e.value0)("title-size")(b)(function(R){return function(Wt){return ED(R)(Wt)}})(),Bi(e.value0)("title-shadow")(b)(function(R){return MD(g)(function(){return R?.4:0}())})(),Oi(e.value0)("title-alignment")(b)(function(R){return ki(Vs(function(){return R==="left"?ge.value:R==="center"?Ve.value:R==="right"?Cn.value:Ve.value}()))})();var w=Wr(Jo(b))();Oi(e.value0)("title-alignment")(w)(function(R){return function(Wt){return function(){var Xt=xD(b)();return R==="left"||R==="right"||R==="center-free"?Jo(b):R==="center"?($p(ki(Js({x:Xn/2,y:Xt.y})))(b)(),LD(Ei(b))):Jo(b)}}})();var I=-3*Lc/180,ot=Wr(ui(I)(tu(td)(w)))();Wp(e.value0)("title-rotate")(ot)(function(R){return gd(function(){return R?I:0}())})();var de=Wr({text:[],lineHeight:1.3,position:{x:64*se,y:300*se},maxWidth:new f(Xn-2*64*se),fillStyle:"#000",font:{name:"Bebas Neue Pro",style:{normal:"normal",italic:"italic"},weight:{normal:"normal",bold:"bold"},size:45*se},align:ge.value,baseline:_e.value,letterSpacing:"0px",emptyLineHeight:.25,dragOffset:s.value,context:n})();Pp(e.value0)("bodytext")(de)(up)(),Eu(e.value0)("color-scheme")(function(R){return Mu(function(){var Dt=u(R)();qp(cs(Dt.background))(r)(),qp(Zd(Dt.bodyText))(de)();var Xt=Gt(p)();return Mu(c(Xt)(Dt.logo))(),$p(Hp(ki(Gs(Dt.title)))(ID(Dt.titleBackground)))(b)()})})();var be=cd([SD(ot),ND(Ei(de)),PD(Mi(i)),AD(Mi(r))]),ct=WD(e.value0)(be)();we(ct)(),Up(ct)();var O=Np("download")("rsp-template.png")(ct)();if(O instanceof f)return void 0;throw new Error("Failed pattern match at RspRood.Tekst (line 286, column 3 - line 286, column 68): "+[O.constructor.name])}throw new Error("Failed pattern match at RspRood.Tekst (line 54, column 3 - line 54, column 72): "+[e.constructor.name])});zp();})();
