/* Generated by Spago v0.93.44 */
(()=>{var Vi=typeof Array.prototype.flatMap=="function"?function(t){return function(e){return t.flatMap(e)}}:function(t){return function(e){for(var n=[],r=t.length,o=0;o<r;o++)for(var a=e(t[o]),u=a.length,l=0;l<u;l++)n.push(a[l]);return n}};var Qi=function(t){return function(e){for(var n=t.length,r=e.length,o=new Array(n*r),a=0,u=0;u<n;u++)for(var l=t[u],i=0;i<r;i++)o[a++]=l(e[i]);return o}};var Vo={compose:function(t){return function(e){return function(n){return t(e(n))}}}};var G=function(t){return t.identity},Y={identity:function(t){return t},Semigroupoid0:function(){return Vo}};var Lt=!0;var V=function(t){return function(e){return function(n){return t(n)(e)}}},z=function(t){return function(e){return t}};var Xi=function(t){return function(e){for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=t(e[o]);return r}};var O=function(){function t(){}return t.value=new t,t}();var d=function(t){return t.map},Ot=function(t){var e=d(t);return function(n){return function(r){return e(r)(n)}}},bt=function(t){return d(t)(z(void 0))};var ke=function(t){var e=d(t);return function(n){return e(z(n))}};var pt={map:Xi};var Kp=G(Y);var Xo={apply:Qi,Functor0:function(){return pt}},lt=function(t){return t.apply},Yi=function(t){var e=lt(t),n=d(t.Functor0());return function(r){return function(o){return e(n(z)(r))(o)}}},ue=function(t){var e=lt(t),n=d(t.Functor0());return function(r){return function(o){return e(n(z(Kp))(r))(o)}}};var b=function(t){return t.pure};var Or=function(t){var e=lt(t.Apply0()),n=b(t);return function(r){return function(o){return e(n(r))(o)}}};var rn=function(t){return t.discard};var Ko={bind:Vi,Apply0:function(){return Xo}},M=function(t){return t.bind},Jt=function(t){return V(M(t))},Lu=function(t){var e=Jt(t);return function(n){return function(r){return function(o){return e(n)(r(o))}}}};var on={discard:function(t){return M(t)}};var Zi=function(t){return function(e){return t.length===0?e:e.length===0?t:t.concat(e)}};var Zt=function(t){return t.reflectSymbol};var _e=function(t){return function(e){return e[t]}},le=function(t){return function(e){return function(n){var r={};for(var o in n)({}).hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r[t]=e,r}}};var ge={append:Zi};var H=function(t){return t.append};var wt=function(t){return t.alt};var ec="\uFFFF",nc="\0",ov=Number.POSITIVE_INFINITY,av=Number.NEGATIVE_INFINITY;var Iu=function(t){return function(e){return function(n){return function(r){return function(o){return r<o?t:r===o?e:n}}}}};var rc=Iu,oc=Iu;var ac=Iu;var Su=function(t){return function(e){return t===e}};var uc=Su,lc=Su,ic=Su;var cc={eq:lc},Zo={eq:uc},ta={eq:ic};var X=function(t){return t.eq};var B=function(){function t(){}return t.value=new t,t}(),$=function(){function t(){}return t.value=new t,t}(),et=function(){function t(){}return t.value=new t,t}();var Zn={eq:function(t){return function(e){return t instanceof B&&e instanceof B||t instanceof $&&e instanceof $||t instanceof et&&e instanceof et}}};var fc=function(t){return function(e){return t-e|0}},sc=function(t){return function(e){return t-e}};var dc=function(t){return function(e){return t+e|0}},pc=function(t){return function(e){return t*e|0}},vc=function(t){return function(e){return t+e}},mc=function(t){return function(e){return t*e}};var _c=function(t){return t.zeroRecord},he=function(t){return t.zero};var Br={addRecord:function(t){return function(e){return function(n){return{}}}},mulRecord:function(t){return function(e){return function(n){return{}}}},oneRecord:function(t){return function(e){return{}}},zeroRecord:function(t){return function(e){return{}}}};var Ie={add:vc,zero:0,mul:mc,one:1},ea={add:dc,zero:0,mul:pc,one:1},gc=function(t){return t.oneRecord},Se=function(t){return t.one},hc=function(t){return t.mulRecord},ie=function(t){return t.mul},Rc=function(t){return t.addRecord},kr=function(){return function(t){return{add:Rc(t)(O.value),mul:hc(t)(O.value),one:gc(t)(O.value)(O.value),zero:_c(t)(O.value)(O.value)}}},ce=function(t){return t.add};var tr=function(t){var e=Zt(t);return function(){return function(n){var r=Rc(n),o=hc(n),a=gc(n),u=_c(n);return function(l){var i=ce(l),c=ie(l),p=Se(l),C=he(l);return{addRecord:function(F){return function(v){return function(g){var x=r(O.value)(v)(g),nt=e(O.value),Xt=le(nt),Ut=_e(nt);return Xt(i(Ut(v))(Ut(g)))(x)}}},mulRecord:function(F){return function(v){return function(g){var x=o(O.value)(v)(g),nt=e(O.value),Xt=le(nt),Ut=_e(nt);return Xt(c(Ut(v))(Ut(g)))(x)}}},oneRecord:function(F){return function(v){var g=a(O.value)(O.value),x=e(O.value),nt=le(x);return nt(p)(g)}},zeroRecord:function(F){return function(v){var g=u(O.value)(O.value),x=e(O.value),nt=le(x);return nt(C)(g)}}}}}}};var sv=kr(),Dc=function(t){return t.subRecord},er=function(t){return t.sub};var Nu={subRecord:function(t){return function(e){return function(n){return{}}}},SemiringRecord0:function(){return Br}},na=function(t){var e=Zt(t),n=tr(t)();return function(){return function(r){var o=Dc(r),a=n(r.SemiringRecord0());return function(u){var l=er(u),i=a(u.Semiring0());return{subRecord:function(c){return function(p){return function(C){var F=o(O.value)(p)(C),v=e(O.value),g=le(v),x=_e(v);return g(l(x(p))(x(C)))(F)}}},SemiringRecord0:function(){return i}}}}}},Pu=function(){return function(t){var e=sv(t.SemiringRecord0());return{sub:Dc(t)(O.value),Semiring0:function(){return e}}}};var ra={sub:sc,Semiring0:function(){return Ie}},yc={sub:fc,Semiring0:function(){return ea}};var jr=function(){return{compare:oc(B.value)(et.value)($.value),Eq0:function(){return cc}}}(),fe=function(){return{compare:rc(B.value)(et.value)($.value),Eq0:function(){return Zo}}}(),oa=function(){return{compare:ac(B.value)(et.value)($.value),Eq0:function(){return ta}}}();var k=function(t){return t.compare};var ze=function(t){return t.top};var Jr={top:ec,bottom:nc,Ord0:function(){return oa}};var an=function(t){return t.bottom};var wc=function(t){var e=t.toString();return isNaN(e+".0")?e:e+".0"},Cc=function(t){var e=t.charCodeAt(0);if(e<32||e===127){switch(t){case"\x07":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case`
`:return"'\\n'";case"\r":return"'\\r'";case"	":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+e.toString(10)+"'"}return t==="'"||t==="\\"?"'\\"+t+"'":"'"+t+"'"};var Tc=function(t){return function(e){for(var n=[],r=0,o=e.length;r<o;r++)n[r]=t(e[r]);return"["+n.join(",")+"]"}};var rr={show:wc};var aa={show:Cc};var E=function(t){return t.show},Wu=function(t){return{show:Tc(E(t))}};var yv=G(Y),s=function(){function t(){}return t.value=new t,t}(),f=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var se=function(t){return function(e){return function(n){if(n instanceof s)return t;if(n instanceof f)return e(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[t.constructor.name,e.constructor.name,n.constructor.name])}}},or=se(!0)(z(!1));var vt={map:function(t){return function(e){return e instanceof f?new f(t(e.value0)):s.value}}};var kt=function(t){return se(t)(yv)},un=function(){return function(t){if(t instanceof f)return t.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[t.constructor.name])}};var ia=isFinite;function xc(t,e,n,r){var o=parseFloat(t);return e(o)?n(o):r}var ca=Math.cos;var fa=Math.sin;var Ic=3.141592653589793;var sa=function(t){return xc(t,ia,f.create,s.value)};var da=function(t){return t.toUpperCase()};var ur=function(t){return t===""};var Sc=function(t){return function(){return t}},Nc=function(t){return function(e){return function(){return e(t())()}}};var Ac=function(t){var e=M(t.Bind1()),n=b(t.Applicative0());return function(r){return function(o){return e(o)(function(a){return n(r(a))})}}},ln=function(t){var e=M(t.Bind1()),n=b(t.Applicative0());return function(r){return function(o){return e(r)(function(a){return e(o)(function(u){return n(a(u))})})}}};var Wc=function(t){return Math.min(Math.abs(t),2147483647)},Uc=function(t){return function(e){return e===0?0:e>0?Math.floor(t/e):-Math.floor(t/-e)}},Hc=function(t){return function(e){if(e===0)return 0;var n=Math.abs(e);return(t%n+n)%n}};var $c={Ring0:function(){return yc}};var Vr=function(t){return t.mod};var pa={degree:Wc,div:Uc,mod:Hc,CommutativeRing0:function(){return $c}};var mt=function(t){return t.mempty};var qc=function(t,e,n){var r=0,o;return function(a){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,o=n(),r=2,o}},It={Applicative0:function(){return Tt},Bind1:function(){return Je}},Je={bind:Nc,Apply0:function(){return $u(0)}},Tt={pure:Sc,Apply0:function(){return $u(0)}},Oc=qc("functorEffect","Effect",function(){return{map:Or(Tt)}}),$u=qc("applyEffect","Effect",function(){return{apply:ln(It),Functor0:function(){return Oc(0)}}}),W=Oc(20),ma=$u(23);var _t={liftEffect:G(Y),Monad0:function(){return It}},St=function(t){return t.liftEffect};var Bc=function(t){return function(){return{value:t}}};var Vt=function(t){return function(){return t.value}},kc=function(t){return function(e){return function(){var n=t(e.value);return e.value=n.state,n.value}}},Qr=function(t){return function(e){return function(){e.value=t}}};var Pv=bt(W),Ge=Bc,Av=kc,ir=function(t){return Av(function(e){var n=t(e);return{state:n,value:n}})},qu=function(t){return function(e){return Pv(ir(t)(e))}};function zc(t){return function(e){return function(n){return function(){var r=new Image;r.src=t,r.addEventListener("load",function(){n(r)()},!1),r.addEventListener("error",function(){e()},!1)}}}}function jc(t,e,n){return function(){var r=document.getElementById(t);return r&&r instanceof HTMLCanvasElement?e(r):n}}function Xr(t){return function(){return t.getContext("2d")}}function Yr(t){return function(){return t.width}}function Kr(t){return function(){return t.height}}function Ou(t){return function(e){return function(){t.width=e}}}function Bu(t){return function(e){return function(){t.height=e}}}function ku(t){return function(){return t.toDataURL()}}function Ve(t){return function(e){return function(){t.fillStyle=e}}}function Jc(t){return function(e){return function(){t.globalCompositeOperation=e}}}function zu(t){return function(){t.beginPath()}}function ju(t){return function(){t.fill()}}function Ju(t){return function(e){return function(){t.rect(e.x,e.y,e.width,e.height)}}}function Gu(t){return function(e){return function(){t.clearRect(e.x,e.y,e.width,e.height)}}}function Vu(t){return function(e){return function(){t.translate(e.translateX,e.translateY)}}}function Qu(t){return function(e){return function(){t.transform(e.a,e.b,e.c,e.d,e.e,e.f)}}}function Gc(t){return function(e){return function(){t.textAlign=e}}}function Vc(t){return function(e){return function(){t.textBaseline=e}}}function fr(t){return function(e){return function(){t.font=e}}}function Zr(t){return function(e){return function(n){return function(r){return function(){t.fillText(e,n,r)}}}}}function Xu(t){return function(){t.save()}}function Yu(t){return function(){t.restore()}}function Ku(t){return function(e){return function(n){return function(r){return function(o){return function(a){return function(){t.drawImage(e,n,r,o,a)}}}}}}}var at=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),it=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}();var jv=ue(ma),we=function(){function t(){}return t.value=new t,t}(),Jv=function(){function t(){}return t.value=new t,t}(),Gv=function(){function t(){}return t.value=new t,t}(),Vv=function(){function t(){}return t.value=new t,t}(),Qv=function(){function t(){}return t.value=new t,t}(),sr=function(){function t(){}return t.value=new t,t}(),Re=function(){function t(){}return t.value=new t,t}(),sn=function(){function t(){}return t.value=new t,t}(),Pe=function(){function t(){}return t.value=new t,t}(),dr=function(){function t(){}return t.value=new t,t}(),pr=function(){function t(){}return t.value=new t,t}();var tl=function(){function t(){}return t.value=new t,t}(),Xv=function(){function t(){}return t.value=new t,t}(),Yv=function(){function t(){}return t.value=new t,t}(),Kv=function(){function t(){}return t.value=new t,t}(),Zv=function(){function t(){}return t.value=new t,t}(),t1=function(){function t(){}return t.value=new t,t}(),e1=function(){function t(){}return t.value=new t,t}(),n1=function(){function t(){}return t.value=new t,t}(),r1=function(){function t(){}return t.value=new t,t}(),o1=function(){function t(){}return t.value=new t,t}(),a1=function(){function t(){}return t.value=new t,t}(),u1=function(){function t(){}return t.value=new t,t}(),l1=function(){function t(){}return t.value=new t,t}(),i1=function(){function t(){}return t.value=new t,t}(),c1=function(){function t(){}return t.value=new t,t}(),f1=function(){function t(){}return t.value=new t,t}(),s1=function(){function t(){}return t.value=new t,t}(),d1=function(){function t(){}return t.value=new t,t}(),p1=function(){function t(){}return t.value=new t,t}(),v1=function(){function t(){}return t.value=new t,t}(),m1=function(){function t(){}return t.value=new t,t}(),_1=function(){function t(){}return t.value=new t,t}(),g1=function(){function t(){}return t.value=new t,t}(),h1=function(){function t(){}return t.value=new t,t}(),R1=function(){function t(){}return t.value=new t,t}(),D1=function(){function t(){}return t.value=new t,t}(),Rt=function(t){return function(e){return function(){Xu(t)();var r=e();return Yu(t)(),r}}},el=function(t){return function(e){return zc(t)(e(s.value))(function(n){return e(f.create(n))})}};var vr=function(t){return function(e){var n=function(r){if(r instanceof we)return"top";if(r instanceof Jv)return"hanging";if(r instanceof Gv)return"middle";if(r instanceof Vv)return"alphabetic";if(r instanceof Qv)return"ideographic";if(r instanceof sr)return"bottom";throw new Error("Failed pattern match at Graphics.Canvas (line 577, column 5 - line 577, column 33): "+[r.constructor.name])};return Vc(t)(n(e))}},mr=function(t){return function(e){var n=function(r){if(r instanceof Re)return"left";if(r instanceof sn)return"right";if(r instanceof Pe)return"center";if(r instanceof dr)return"start";if(r instanceof pr)return"end";throw new Error("Failed pattern match at Graphics.Canvas (line 531, column 5 - line 531, column 32): "+[r.constructor.name])};return Gc(t)(n(e))}};var Kc=function(t){return function(e){var n=function(r){if(r instanceof tl)return"source-over";if(r instanceof Xv)return"source-in";if(r instanceof Yv)return"source-out";if(r instanceof Kv)return"source-atop";if(r instanceof Zv)return"destination-over";if(r instanceof t1)return"destination-in";if(r instanceof e1)return"destination-out";if(r instanceof n1)return"destination-atop";if(r instanceof r1)return"lighter";if(r instanceof o1)return"copy";if(r instanceof a1)return"xor";if(r instanceof u1)return"multiply";if(r instanceof l1)return"screen";if(r instanceof i1)return"overlay";if(r instanceof c1)return"darken";if(r instanceof f1)return"lighten";if(r instanceof s1)return"color-dodge";if(r instanceof d1)return"color-burn";if(r instanceof p1)return"hard-light";if(r instanceof v1)return"soft-light";if(r instanceof m1)return"difference";if(r instanceof _1)return"exclusion";if(r instanceof g1)return"hue";if(r instanceof h1)return"saturation";if(r instanceof R1)return"color";if(r instanceof D1)return"luminosity";throw new Error("Failed pattern match at Graphics.Canvas (line 326, column 5 - line 326, column 45): "+[r.constructor.name])};return Jc(t)(n(e))}},Zc=function(t){return function(e){return jv(Bu(t)(e.height))(Ou(t)(e.width))}},tf=function(t){return jc(t,f.create,s.value)},ef=function(t){return function(){var n=Yr(t)(),r=Kr(t)();return{width:n,height:r}}},nf=function(t){return function(e){return function(){zu(t)();var r=e();return ju(t)(),r}}};var _a=function(t){return function(e){return e(function(n){return t(n)})}},dn=function(t){return function(e){return{x:e.x+t.translateX,y:e.y+t.translateY}}};var Nt=function(t){return t.translate},rf=function(t){return function(e){return{width:e.width*t.scaleX,height:e.height*t.scaleY}}};var Dt=function(t){return t.position},Ce=function(t){return function(e){return function(n){return n(t)(e)}}},y1=function(t){var e=d(t);return function(n){return _a(function(r){var o=e(Ce(r)),a=n(r);return function(u){return o(a(u))}})}};var pn=function(t){return t.mapLayerWrapper};var gt=function(t){return t.draw},F1=function(t){var e=Nt(t);return function(n){return function(r){return function(o){var a={translateX:r.translateX-n.offsetX,translateY:r.translateY-n.offsetY};return e(a)(o)}}}},We=function(t){var e=b(t);return function(n){var r=F1(n);return function(o){return function(a){return function(u){if(o instanceof s)return e(u);if(o instanceof f)return r(o.value0)(a)(u);throw new Error("Failed pattern match at Sjablong.Layer (line 61, column 1 - line 61, column 115): "+[o.constructor.name,a.constructor.name,u.constructor.name])}}}}},Pt=function(t){return t.dragStart},At=function(t){return t.dragEnd},Wt=function(t){return t.drag},Mt=function(t){return t.containsPoint},ga=function(t){var e=y1(t);return{position:_a(function(n){return Dt(n)}),translate:function(n){return e(function(r){return Nt(r)(n)})},containsPoint:function(n){return _a(function(r){return Mt(r)(n)})},draw:function(n){return _a(function(r){return gt(r)(n)})},dragStart:function(n){return e(function(r){return Pt(r)(n)})},drag:function(n){return e(function(r){return Wt(r)(n)})},dragEnd:e(function(n){return At(n)})}};var of=function(t,e){for(var n=t>e?-1:1,r=new Array(n*(e-t)+1),o=t,a=0;o!==e;)r[a++]=o,o+=n;return r[a]=o,r},b1=function(t,e){if(t<1)return[];var n=new Array(t);return n.fill(e)},w1=function(t,e){for(var n=[],r=0,o=0;o<t;o++)n[r++]=e;return n},C1=typeof Array.prototype.fill=="function"?b1:w1,af=function(){function t(o,a){this.head=o,this.tail=a}var e={};function n(o){return function(a){return new t(o,a)}}function r(o){for(var a=[],u=0,l=o;l!==e;)a[u++]=l.head,l=l.tail;return a}return function(o,a){return r(o(n)(e)(a))}}(),yt=function(t){return t.length};var uf=function(t,e,n,r){return r<0||r>=n.length?e:t(n[r])};var lf=function(t,e,n,r){for(var o=0,a=r.length;o<a;o++)if(n(r[o]))return t(o);return e};var cf=function(t,e,n,r,o){if(n<0||n>=o.length)return e;var a=o.slice();return a[n]=r,t(a)},vn=function(t){return t.slice().reverse()},mn=function(t){if(t.length<=1e4)return Array.prototype.concat.apply([],t);for(var e=[],n=0,r=t.length;n<r;n++)for(var o=t[n],a=0,u=o.length;a<u;a++)e.push(o[a]);return e};var ff=function(t,e,n){for(var r=n.length,o=e,a=new Array(r),u=0;u<r;u++)o=t(o)(n[u]),a[u]=o;return a};var sf=function(t,e,n){return n.slice(t,e)},df=function(t,e,n){for(var r=e.length<n.length?e.length:n.length,o=new Array(r),a=0;a<r;a++)o[a]=t(e[a])(n[a]);return o},pf=function(t,e){for(var n=e.length,r=0;r<n;r++)if(t(e[r]))return!0;return!1},vf=function(t,e){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return!1;return!0},mf=function(t,e){return t[e]};var En=function(t){return t.defer};var gr=function(t){return t};var nl={map:function(t){return function(e){return t(e)}}};var _f={apply:function(t){return function(e){return t(e)}},Functor0:function(){return nl}},E1={bind:function(t){return function(e){return e(t)}},Apply0:function(){return _f}},M1={pure:gr,Apply0:function(){return _f}},gf={Applicative0:function(){return M1},Bind1:function(){return E1}};var ee=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ne=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Qe=function(t){return t.tailRecM};var I1=function(t){var e=function(n){var r=!1,o;function a(u){if(u instanceof ee){n=t(u.value0);return}if(u instanceof ne)return r=!0,u.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 103, column 3 - line 103, column 25): "+[u.constructor.name])}for(;!r;)o=a(n);return o};return function(n){return e(t(n))}};var hf={tailRecM:function(t){var e=function(r){return r},n=I1(function(r){return e(t(r))});return function(r){return gr(n(r))}},Monad0:function(){return gf}};var Rf=function(t){return function(e){return function(){return t(e())}}},Df=function(t){return function(){return t}},yf=function(t){return function(e){return function(){return e(t())()}}};function ol(t){return function(e){return function(n){return function(){for(var r=t;r<e;r++)n(r)()}}}}var A1=function(t,e,n){var r=0,o;return function(a){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,o=n(),r=2,o}};var ha={map:Rf};var Cf={Applicative0:function(){return Tf},Bind1:function(){return al}},al={bind:yf,Apply0:function(){return Ef(0)}},Tf={pure:Df,Apply0:function(){return Ef(0)}},Ef=A1("applyST","Control.Monad.ST.Internal",function(){return{apply:ln(Cf),Functor0:function(){return ha}}});function ul(){return[]}function W1(t){return t}var Mf=W1;function U1(t){return t.slice()}var xf=U1;var Lf=function(t,e){return e.push(t)};var Da=function(e){return function(n){return function(){return e(n)}}},ll=function(e){return function(n){return function(r){return function(){return e(n,r)}}}};var k1=M(al);var il=Da(Mf);var z1=Da(xf),If=function(t){return function(e){return function(){var r=z1(e)();return t(r)(),il(r)()}}};var Sf=function(t){return k1(t)(il)()};var hr=ll(Lf);var Pf=function(t){return function(e){return t&&e}},Af=function(t){return function(e){return t||e}},Wf=function(t){return!t};var ya=function(t){return t.not};var eo=function(t){return t.ff};var _n=function(t){return t.disj},De={ff:!1,tt:!0,implies:function(t){return function(e){return _n(De)(ya(De)(t))(e)}},conj:Pf,disj:Af,not:Wf};var Uf=function(t){return function(e){return function(n){for(var r=e,o=n.length,a=o-1;a>=0;a--)r=t(n[a])(r);return r}}},Hf=function(t){return function(e){return function(n){for(var r=e,o=n.length,a=0;a<o;a++)r=t(r)(n[a]);return r}}};var I=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Xe=function(t){return t.value0};var gn=function(t){return function(e){return function(n){return t(new I(e,n))}}};var wa=function(t){return t};var lm=function(t){var e=_n(t);return{append:function(n){return function(r){return e(n)(r)}}}};var vl=function(t){var e=lm(t);return{mempty:eo(t),Semigroup0:function(){return e}}};var _=function(t){return t};var ml=function(){return _};var kf=ml();var Mn=function(){return kf};var _l=function(){return function(){return function(){return function(){return function(t){return kf}}}}};var dm=G(Y),pm=X(Zn);var vm=_l()()()(),zt=function(t){return t.foldr};var Ln=function(t){var e=ue(t.Apply0()),n=b(t);return function(r){var o=zt(r);return function(a){return o(function(u){return e(a(u))})(n(void 0))}}},uo=function(t){var e=Ln(t);return function(n){return V(e(n))}};var dt=function(t){return t.foldl};var jf=function(t){var e=dt(t);return function(n){var r=function(o){return function(a){if(o instanceof s)return new f(a);if(o instanceof f)return new f(function(){var u=pm(n(o.value0)(a))($.value);return u?o.value0:a}());throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[o.constructor.name,a.constructor.name])}};return e(r)(s.value)}},lo=function(t){var e=k(t);return function(n){return jf(n)(e)}};var io=function(t){var e=dt(t);return function(n){return e(ce(n))(he(n))}};var Jf=function(t){var e=zt(t);return function(n){var r=H(n.Semigroup0()),o=mt(n);return function(a){return e(function(u){return function(l){return r(a(u))(l)}})(o)}}},st={foldr:Uf,foldl:Hf,foldMap:function(t){return Jf(st)(t)}};var He=function(t){return t.foldMap};var In=function(t){var e=He(t);return function(n){return vm(wa)(e(vl(n)))}};var co=function(t){var e=In(t);return function(n){return e(n)(dm)}};var fo=function(t){return function(e,n,r,o,a){return t(e)(n)(r)(o)(a)}};var Ye=function(t){return function(e){return function(n){return t(e,n)}}},so=function(t){return function(e){return function(n){return function(r){return t(e,n,r)}}}},Ea=function(t){return function(e){return function(n){return function(r){return function(o){return t(e,n,r,o)}}}}},hl=function(t){return function(e){return function(n){return function(r){return function(o){return function(a){return t(e,n,r,o,a)}}}}}};var Kf=function(){function t(o){return[o]}function e(o){return function(a){return[o,a]}}function n(o){return function(a){return function(u){return[o,a,u]}}}function r(o){return function(a){return o.concat(a)}}return function(o){return function(a){return function(u){return function(l){return function(i){function c(p,C){switch(C-p){case 0:return u([]);case 1:return a(t)(l(i[p]));case 2:return o(a(e)(l(i[p])))(l(i[p+1]));case 3:return o(o(a(n)(l(i[p])))(l(i[p+1])))(l(i[p+2]));default:var F=p+Math.floor((C-p)/4)*2;return o(a(r)(c(p,F)))(c(F,C))}}return c(0,i.length)}}}}}}();var Xm=G(Y),jt=function(t){return t.traverse};var Ym=function(t){var e=jt(t);return function(n){return e(n)(Xm)}},de={traverse:function(t){var e=t.Apply0();return Kf(lt(e))(d(e.Functor0()))(b(t))},sequence:function(t){return Ym(de)(t)},Functor0:function(){return pt},Foldable1:function(){return st}};var os=function(t){return function(e){var n=jt(e)(t);return function(r){return function(o){return n(o)(r)}}}};var f_=bt(ha);var s_=H(ge);var cs=so(df);var hn=function(){return cs(I.create)}();var fs=function(){return hl(cf)(f.create)(s.value)}(),xl=function(){return Ye(mf)},d_=xl();var Ft=function(t){return function(e){return If(hr(e))(t)()}},El=so(sf),_o=function(t){return function(e){return t<=0?{before:[],after:e}:{before:El(0)(t)(e),after:El(t)(yt(e))(e)}}};var Pa=function(t){return[t]};var wr=so(ff);var Ll=Ye(of);var Il=function(t){return function(e){var n=yt(e);if(n<2)return e;if(Lt)return Sf(function(){var r=function(o){return d_(e)(o)};return function(){var a=ul();return hr(r(0))(a)(),ol(1)(n)(function(u){return function(){return hr(t)(a)(),f_(hr(r(u))(a))()}})(),a}}());throw new Error("Failed pattern match at Data.Array (line 623, column 21 - line 633, column 17): "+[n.constructor.name])}};var Ze=function(){return Ea(uf)(f.create)(s.value)}();var Sl=function(t){return function(e){return function(n){var r=function(o){return fs(t)(e(o))(n)};return se(s.value)(r)(Ze(n)(t))}}};var Nl=function(t){return Ye(af)(zt(t))};var ss=dt(st);var go=function(){return Ea(lf)(f.create)(s.value)}();var Pl=function(t){var e=X(t);return function(n){return go(function(r){return e(r)(n)})}},Al=function(t){var e=Pl(t);return function(n){return function(r){return or(e(n)(r))}}};var An=function(t){return function(e){return s_([t])(e)}};var Wl=V(M(Ko)),Ul=function(t){return Wl(function(){var e=se([])(Pa);return function(n){return e(t(n))}}())};var ho=Ye(pf);var Aa=Ye(vf);var p_=co(st)(De),v_=jt(de),m_=er(Pu()(na({reflectSymbol:function(){return"x"}})()(na({reflectSymbol:function(){return"y"}})()(Nu)(ra))(ra))),__=Ln(Tt)(st);var Hl=function(t){var e=t.Applicative0(),n=b(e),r=d(t.Bind1().Apply0().Functor0()),o=v_(e),a=We(e);return function(u){var l=Mt(u),i=gt(u);return{position:function(c){return n(c.position)},translate:function(c){return function(p){return n({layers:p.layers,dragOffset:p.dragOffset,position:dn(c)(p.position)})}},containsPoint:function(c){return function(p){return r(p_)(o(l(m_(c)(p.position)))(p.layers))}},draw:function(c){return function(p){return Rt(c)(function(){return Vu(c)({translateX:p.position.x,translateY:p.position.y})(),__(function(){var F=Rt(c),v=i(c);return function(g){return F(v(g))}}())(vn(p.layers))()})}},dragStart:function(c){return function(p){return n({layers:p.layers,position:p.position,dragOffset:new f(c)})}},drag:function(c){return function(p){return a(Hl(t)(u))(p.dragOffset)(c)(p)}},dragEnd:function(c){return n({layers:c.layers,position:c.position,dragOffset:s.value})}}}},ds=function(t){return{layers:t,position:{x:0,y:0},dragOffset:s.value}};var Ro=function(t){var e=b(t),n=We(t);return{position:function(r){return e({x:r.rect.x,y:r.rect.y})},translate:function(r){return function(o){return e({fillStyle:o.fillStyle,dragOffset:o.dragOffset,rect:{width:o.rect.width,height:o.rect.height,x:o.rect.x+r.translateX,y:o.rect.y+r.translateY}})}},containsPoint:function(r){return function(o){return e(o.rect.x<=r.x&&r.x<=o.rect.x+o.rect.width&&o.rect.y<=r.y&&r.y<=o.rect.y+o.rect.height)}},draw:function(r){return function(o){return function(){return Ve(r)(o.fillStyle)(),nf(r)(Ju(r)(o.rect))()}}},dragStart:function(r){return function(o){return e({rect:o.rect,fillStyle:o.fillStyle,dragOffset:new f(r)})}},drag:function(r){return function(o){return n(Ro(t))(o.dragOffset)(r)(o)}},dragEnd:function(r){return e({rect:r.rect,fillStyle:r.fillStyle,dragOffset:s.value})}}},ps=function(t){return function(e){return{rect:e.rect,dragOffset:e.dragOffset,fillStyle:t}}},Do=function(t){return function(e){return{rect:t,fillStyle:e,dragOffset:s.value}}};var Wn=function(t){return t.throwError};var Ee=function(t){return t.lift};var w_=d(vt);var Ua=function(t){return t},Un=function(t){return t};var Tr={lift:function(t){var e=Ac(t)(f.create);return function(n){return Ua(e(n))}}};var C_=function(t){var e=d(t);return{map:function(n){return function(r){return e(w_(n))(r)}}}},T_=function(t){return{Applicative0:function(){return Fo(t)},Bind1:function(){return Hn(t)}}},Hn=function(t){var e=M(t.Bind1()),n=b(t.Applicative0());return{bind:function(r){return function(o){return e(r)(function(a){if(a instanceof s)return n(s.value);if(a instanceof f){var u=o(a.value0);return u}throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[a.constructor.name])})}},Apply0:function(){return ys(t)}}},ys=function(t){var e=C_(t.Bind1().Apply0().Functor0());return{apply:ln(T_(t)),Functor0:function(){return e}}},Fo=function(t){return{pure:function(){var e=b(t.Applicative0());return function(n){return Ua(e(f.create(n)))}}(),Apply0:function(){return ys(t)}}};var Er=function(t){var e=b(t.Applicative0());return function(n){return Ua(e(n))}};var E_=Ee(Tr);var Fs=function(t){var e=M(Hn(t)),n=Er(t),r=E_(t);return function(o){return function(a){return function(u){return e(n(Ze(u)(o)))(function(l){return e(r(a(l)))(function(i){return n(Sl(o)(z(i))(u))})})}}}};var bs=function(t){return hn(Ll(0)(yt(t)))(t)};var ct=function(t){return t};function Cs(t){return t.split(/\r\n|[\n\v\f\r\u0085\u2028\u2029]/)}function Ts(t){return t.split(/[\u000a-\u000d\u0085\u2028\u2029\u0009\u0020\u00a0\u1680\u2000-\u200a\u202f\u205f\u3000]+/)}var aF=typeof Array.from=="function",S_=typeof Symbol<"u"&&Symbol!=null&&typeof Symbol.iterator<"u"&&typeof String.prototype[Symbol.iterator]=="function",uF=typeof String.prototype.fromCodePoint=="function",N_=typeof String.prototype.codePointAt=="function",Es=function(t){return N_?function(e){return e.codePointAt(0)}:t},Ms=function(t){return function(e){return function(n){return function(r){return function(o){return function(a){var u=a.length;if(o<0||o>=u)return n;if(S_)for(var l=a[Symbol.iterator](),i=o;;--i){var c=l.next();if(c.done)return n;if(i===0)return e(r(c.value))}return t(o)(a)}}}}}};function Dn(t){return t.charCodeAt(0)}function xs(t){return String.fromCharCode(t)}var Ss=an(Jr),Ns=ze(Jr);var tn=function(t){return t.toEnum};var yn=function(t){return t.fromEnum};var $n=function(t){return function(e){return function(n){return t(e(n)+1|0)}}},qn=function(t){return function(e){return function(n){return t(e(n)-1|0)}}};var kl=function(t){return t>=Dn(Ss)&&t<=Dn(Ns)?new f(xs(t)):s.value},q_={succ:$n(kl)(Dn),pred:qn(kl)(Dn),Ord0:function(){return oa}};var wo=function(){return{cardinality:Dn(Ns)-Dn(Ss)|0,toEnum:kl,fromEnum:Dn,Bounded0:function(){return Jr},Enum1:function(){return q_}}}();var zl=function(t){return t.join("")};var Fn=function(t){return t.length};var On=function(t){return function(e){return e.substring(t)}};var bn=function(t){return function(e){if(t>=0&&t<e.length)return e.charAt(t);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}};var V_=function(t,e,n){var r=0,o;return function(a){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,o=n(),r=2,o}},Co=yn(wo);var Q_=k(fe);var Ws=function(t){return function(e){return(((t-55296|0)*1024|0)+(e-56320|0)|0)+65536|0}};var Us=function(t){return 56320<=t&&t<=57343},Hs=function(t){return 55296<=t&&t<=56319},$a=function(t){var e=Fn(t);if(e===0)return s.value;if(e===1)return new f({head:Co(bn(0)(t)),tail:""});var n=Co(bn(1)(t)),r=Co(bn(0)(t)),o=Hs(r)&&Us(n);return o?new f({head:Ws(r)(n),tail:On(2)(t)}):new f({head:r,tail:On(1)(t)})};var X_=function(t){var e=Co(bn(0)(t)),n=Hs(e)&&Fn(t)>1;if(n){var r=Co(bn(1)(t)),o=Us(r);return o?Ws(e)(r):e}return e},As=Es(X_);var Jl={eq:function(t){return function(e){return t===e}}},Gl={compare:function(t){return function(e){return Q_(t)(e)}},Eq0:function(){return Jl}};var Y_=function(t){return function(e){var n=t,r=!1,o;function a(u,l){var i=$a(l);if(i instanceof f){var c=u===0;if(c)return r=!0,new f(i.value0.head);n=u-1|0,e=i.value0.tail;return}return r=!0,s.value}for(;!r;)o=a(n,e);return o}},$s=function(t){return function(e){return t<0?s.value:t===0&&e===""?s.value:t===0?new f(As(e)):Ms(Y_)(f.create)(s.value)(As)(t)(e)}},K_={bottom:0,top:1114111,Ord0:function(){return Gl}},Bn=function(){return{cardinality:1114112,fromEnum:function(t){return t},toEnum:function(t){if(t>=0&&t<=1114111)return new f(t);if(Lt)return s.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[t.constructor.name])},Bounded0:function(){return K_},Enum1:function(){return Z_(0)}}}(),Z_=V_("enumCodePoint","Data.String.CodePoints",function(){return{succ:$n(tn(Bn))(yn(Bn)),pred:qn(tn(Bn))(yn(Bn)),Ord0:function(){return Gl}}});var To=function(t){return Ts(t)};var Eo=function(t){return Cs(t)};var Mo=t=>t.width,xo=t=>t.height;var kn=t=>e=>()=>t.letterSpacing=e;var Bs=function(t){return function(e){return function(n){return function(r){return Ku(t)(e)(n.x)(n.y)(r.width)(r.height)}}}};var ks=function(t){return{width:Mo(t),height:xo(t)}};var Lo=t=>e=>()=>t.measureText(e);var xr=jt(de)(Tt),zs=d(pt),dg=io(st)(Ie),pg=dt(st),Kl=d(W),Js=lo(jr)(st);var vg=Ot(pt),Gs=E(rr),js=uo(Tt)(st);var Vs=function(t){return function(e){return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:t}}},Qs=function(t){return function(e){return{text:e.text,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,position:t}}},Zl=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,fontSize:t}}},Xs=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,fillStyle:t}}},Ys=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,fontName:e.fontName,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,baseline:e.baseline,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,align:t}}},Ks=function(t){return function(e){return function(){var r=Lo(t)(e)();return{word:e,metrics:r}}}},Ba=function(t){return function(e){return function(){var r=Lo(t)(e)();return r.width}}},mg=function(t){return function(e){return function(){var r=Ba(t)(" ")(),o=xr(Ks(t))(To(e))();return{words:Il(new it({width:r}))(zs(at.create)(o)),width:dg(zs(function(a){return a.metrics.width})(o))+r*ct(yt(o)-1|0)}}}},_g=function(t){return function(e){return xr(mg(t))(Eo(e))}},gg=function(t){return function(e){return function(n){return function(){var o=xr(Ks(t))(To(n))(),a=Ba(t)(" ")(),u=function(i){return function(c){if(i.value1.words.length===0)return new I(i.value0,{words:[new at(c)],width:c.metrics.width});var p=i.value1.width+a+c.metrics.width>e;return p?new I(Ft(i.value0)(i.value1),{words:[new at(c)],width:c.metrics.width}):new I(i.value0,{words:Ft(Ft(i.value1.words)(new it({width:a})))(new at(c)),width:i.value1.width+a+c.metrics.width})}},l=pg(u)(new I([],{words:[],width:0}))(o);return l.value1.words.length===0?l.value0:Ft(l.value0)(l.value1)}}}},hg=function(t){return function(e){return function(n){return Kl(mn)(xr(gg(t)(e))(Eo(n)))}}},ti=function(t){return function(e){return function(){var r=Lo(t)(e)();return r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}},Rg=function(t){return function(e){return ti(t)(e.word)}};var Dg=function(t){return function(e){var n=V(Ul)(e.words)(function(r){if(r instanceof at)return new f(r.value0);if(r instanceof it)return s.value;throw new Error("Failed pattern match at Sjablong.Layer.Text (line 146, column 50 - line 148, column 30): "+[r.constructor.name])});return Kl(function(){var r=kt(0);return function(o){return r(Js(o))}}())(xr(Rg(t))(n))}},yg=function(t){return function(e){return Kl(function(){var n=kt(0);return function(r){return n(Js(r))}}())(xr(Dg(t))(e))}};var Fg=function(t){return function(e){return{word:e.word,metrics:e.metrics,position:{x:t.x,y:t.y-e.metrics.fontBoundingBoxAscent}}}},bg=function(t){return function(e){var n=function(o){return function(a){if(a instanceof at)return{offsetX:o.offsetX+a.value0.metrics.width,words:Ft(o.words)(Fg({x:t.x+o.offsetX,y:t.y})(a.value0))};if(a instanceof it)return{offsetX:o.offsetX+a.value0.width,words:o.words};throw new Error("Failed pattern match at Sjablong.Layer.Text (line 240, column 5 - line 240, column 136): "+[o.constructor.name,a.constructor.name])}},r=ss(n)({offsetX:0,words:[]})(e.words);return{words:r.words,position:t,width:r.offsetX}}},wg=function(t){return function(e){return function(n){return function(r){return function(o){return function(a){return{position:t,lines:vg(bs(a))(function(u){var l=function(){return n instanceof we?t.y+ct(u.value0)*o*r:n instanceof sr?t.y-ct((yt(a)-u.value0|0)-1|0)*o*r:t.y+ct(u.value0)*o*r}(),i=function(){if(e instanceof dr||e instanceof Re)return t.x;if(e instanceof pr||e instanceof sn)return t.x-u.value1.width;if(e instanceof Pe)return t.x-u.value1.width/2;throw new Error("Failed pattern match at Sjablong.Layer.Text (line 224, column 13 - line 229, column 55): "+[e.constructor.name])}();return bg({x:i,y:l})(u.value1)}),lineHeight:o}}}}}}},Oa=function(t){return Rt(t.context)(function(){Ve(t.context)(t.fillStyle)(),fr(t.context)(t.fontStyle+(" "+(t.fontWeight+(" "+(Gs(t.fontSize)+("px "+t.fontName))))))(),mr(t.context)(Re.value)(),vr(t.context)(we.value)(),kn(t.context)(t.letterSpacing)();var n=function(){if(t.maxWidth instanceof f)return hg(t.context)(t.maxWidth.value0)(t.text)();if(t.maxWidth instanceof s)return _g(t.context)(t.text)();throw new Error("Failed pattern match at Sjablong.Layer.Text (line 202, column 12 - line 204, column 54): "+[t.maxWidth.constructor.name])}(),r=yg(t.context)(n)();return wg(t.position)(t.align)(t.baseline)(t.lineHeight)(r)(n)})},ei=function(t){var e=t.Monad0().Applicative0(),n=b(e),r=St(t),o=We(e);return{position:function(a){return n(a.position)},translate:function(a){return function(u){return n({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:dn(a)(u.position)})}},containsPoint:function(a){return function(u){return r(Rt(u.context)(function(){var i=Oa(u)();return V(ho)(i.lines)(function(c){return c.position.x<=a.x&&a.x<=c.position.x+c.width&&c.position.y<=a.y&&a.y<=c.position.y+i.lineHeight})}))}},dragStart:function(a){return function(u){return n({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,fontName:u.fontName,fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new f(a)})}},drag:function(a){return function(u){return o(ei(t))(u.dragOffset)(a)(u)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,fontName:a.fontName,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:s.value})},draw:function(a){return function(u){return Rt(a)(function(){Ve(a)(u.fillStyle)(),fr(a)(u.fontStyle+(" "+(u.fontWeight+(" "+(Gs(u.fontSize)+("px "+u.fontName))))))(),mr(a)(Re.value)(),vr(a)(we.value)(),kn(a)(u.letterSpacing)();var i=Oa(u)();return js(i.lines)(function(c){return js(c.words)(function(p){return Zr(a)(p.word)(p.position.x)(p.position.y)})})()})}}}};var Cg=_n(De),Tg=ue(ma),za=function(t){return t},Zs=function(t){var e=t.Bind1().Apply0(),n=lt(e),r=d(e.Functor0());return function(o){var a=Dt(o),u=Nt(o),l=Mt(o),i=gt(o),c=Pt(o),p=Wt(o),C=At(o);return function(F){var v=Nt(F),g=Mt(F),x=gt(F),nt=Pt(F),Xt=Wt(F),Ut=At(F);return{position:function(rt){return a(rt.value0)},translate:function(rt){return function(S){return n(r(gn(za))(u(rt)(S.value0)))(v(rt)(S.value1))}},containsPoint:function(rt){return function(S){return n(r(Cg)(l(rt)(S.value0)))(g(rt)(S.value1))}},draw:function(rt){return function(S){return Tg(x(rt)(S.value1))(i(rt)(S.value0))}},dragStart:function(rt){return function(S){return n(r(gn(za))(c(rt)(S.value0)))(nt(rt)(S.value1))}},drag:function(rt){return function(S){return n(r(gn(za))(p(rt)(S.value0)))(Xt(rt)(S.value1))}},dragEnd:function(rt){return n(r(gn(za))(C(rt.value0)))(Ut(rt.value1))}}}}};var td=function(t){return function(e){return new I(t,e)}},ja=function(t){return Xe(t)};var Mg=E(rr),ed=d(pt),xg=H(ge);var nd=function(t){var e=Zs(t),n=Hl(t)(Ro(t.Applicative0())),r=Ot(t.Bind1().Apply0().Functor0());return function(o){var a=e(ei(o))(n),u=Dt(a),l=Nt(a),i=Mt(a),c=Pt(a),p=Wt(a),C=At(a),F=gt(a);return{position:function(v){return u(v.layer)},translate:function(v){return function(g){return r(l(v)(g.layer))(function(x){return{fillStyle:g.fillStyle,padding:g.padding,shadow:g.shadow,layer:x}})}},containsPoint:function(v){return function(g){return i(v)(g.layer)}},dragStart:function(v){return function(g){return r(c(v)(g.layer))(function(x){return{fillStyle:g.fillStyle,padding:g.padding,shadow:g.shadow,layer:x}})}},drag:function(v){return function(g){return r(p(v)(g.layer))(function(x){return{fillStyle:g.fillStyle,padding:g.padding,shadow:g.shadow,layer:x}})}},dragEnd:function(v){return r(C(v.layer))(function(g){return{fillStyle:v.fillStyle,padding:v.padding,shadow:v.shadow,layer:g}})},draw:function(v){return function(g){return F(v)(g.layer)}}}}},rd=function(){return{a:1,b:0,c:-.1,d:1,e:120,f:0}}(),Io=function(t){var e=t.Monad0(),n=M(e.Bind1()),r=St(t),o=b(e.Applicative0());return function(a){return function(u){return function(l){return function(i){return function(c){return n(r(Oa(c)))(function(p){var C=function(nt){return Do({x:nt.position.x-(u.paddingX-l.offsetX)*c.fontSize,y:nt.position.y-(u.paddingY-l.offsetY)*c.fontSize,width:nt.width+2*u.paddingX*c.fontSize,height:p.lineHeight+2*u.paddingY*c.fontSize})("rgba(0,0,0,"+(Mg(i)+")"))},F=ed(C)(p.lines),v=function(nt){return Do({x:nt.position.x-u.paddingX*c.fontSize,y:nt.position.y-u.paddingY*c.fontSize,width:nt.width+2*u.paddingX*c.fontSize,height:p.lineHeight+2*u.paddingY*c.fontSize})(a)},g=ed(v)(p.lines),x=td(c)(ds(xg(g)(F)));return o({layer:x,fillStyle:a,padding:u,shadow:{offset:l,opacity:i}})})}}}}}},Lg=function(t){var e=Jt(t.Monad0().Bind1()),n=Io(t);return function(r){return function(o){return e(n(o.fillStyle)(o.padding)(o.shadow.offset)(o.shadow.opacity))(r(ja(o.layer)))}}},od=function(t){var e=Io(t);return function(n){return function(r){return e(n)(r.padding)(r.shadow.offset)(r.shadow.opacity)(ja(r.layer))}}},ad=function(t){var e=Io(t);return function(n){return function(r){return function(o){return e(o.fillStyle)(o.padding)(n)(r)(ja(o.layer))}}}},Ja=function(t){var e=Lg(t),n=b(t.Monad0().Applicative0());return function(r){return e(function(o){return n(r(o))})}},ud=function(t){var e=Ja(t);return function(n){return e(Zl(n))}},ld=function(t){var e=Ja(t);return function(n){return e(Vs(n))}};var Sg=rn(on);var ni=function(t){var e=t.Monad0(),n=e.Applicative0(),r=b(n),o=M(e.Bind1()),a=St(t),u=We(n);return{position:function(l){return r(l.position)},translate:function(l){return function(i){return r({image:i.image,scale:i.scale,composite:i.composite,dragOffset:i.dragOffset,position:dn(l)(i.position)})}},containsPoint:function(l){return function(i){return o(a(Vt(i.image)))(function(c){if(c instanceof s)return r(!1);if(c instanceof f)return r(i.position.x<=l.x&&l.x<=i.position.x+Mo(c.value0)*i.scale.scaleX&&i.position.y<=l.y&&l.y<=i.position.y+xo(c.value0)*i.scale.scaleY);throw new Error("Failed pattern match at Sjablong.Layer.Image (line 78, column 5 - line 84, column 90): "+[c.constructor.name])})}},dragStart:function(l){return function(i){return r({image:i.image,position:i.position,scale:i.scale,composite:i.composite,dragOffset:new f(l)})}},drag:function(l){return function(i){return u(ni(t))(i.dragOffset)(l)(i)}},dragEnd:function(l){return r({image:l.image,position:l.position,scale:l.scale,composite:l.composite,dragOffset:s.value})},draw:function(l){return function(i){return function(){var p=Vt(i.image)();if(p instanceof s)return void 0;if(p instanceof f)return Rt(l)(function(){return Kc(l)(i.composite)(),Bs(l)(p.value0)(i.position)(rf(i.scale)(ks(p.value0)))()})();throw new Error("Failed pattern match at Sjablong.Layer.Image (line 92, column 5 - line 98, column 54): "+[p.constructor.name])}}}}};var id=function(t){return function(e){return{image:e.image,scale:e.scale,composite:e.composite,dragOffset:e.dragOffset,position:t}}},cd=function(t){var e=St(t);return function(n){return function(r){return function(o){return function(a){return e(function(){var l=Ge(s.value)();return el(n)(function(){var i=V(qu)(l);return function(c){return i(z(c))}}())(),{image:l,position:r,scale:o,composite:a,dragOffset:s.value}})}}}}};var fd=function(t){var e=t.Monad0(),n=Sg(e.Bind1()),r=St(t),o=b(e.Applicative0());return function(a){return function(u){return n(r(el(a)(function(){var l=V(qu)(u.image);return function(i){return l(z(i))}}())))(function(){return o(u)})}}};var Pg=jt(de),Ag=co(st)(De),Wg=Ln(Tt)(st),Ug=Ee(Tr),Hg=G(Y);var sd=function(t){var e=t.Applicative0(),n=b(e),r=t.Bind1().Apply0().Functor0(),o=Ot(r),a=Pg(e),u=d(r),l=M(Hn(t)),i=Ug(t),c=Er(t),p=Fs(t),C=b(Fo(t));return function(F){var v=Nt(F),g=Mt(F),x=gt(F),nt=Dt(F),Xt=Pt(F),Ut=Wt(F),rt=At(F);return{position:z(n({x:0,y:0})),translate:function(S){return function(R){return o(a(v(S))(R.layers))(function(Ht){return{dragIndex:R.dragIndex,layers:Ht}})}},containsPoint:function(S){return function(R){return u(Ag)(a(g(S))(R.layers))}},draw:function(S){return function(R){return Wg(function(){var Ht=Rt(S),ht=x(S);return function(Yt){return Ht(ht(Yt))}}())(vn(R.layers))}},dragStart:function(S){return function(R){return u(kt(R))(Un(l(i(a(g({x:S.offsetX,y:S.offsetY}))(R.layers)))(function(Ht){return l(c(go(Hg)(Ht)))(function(ht){return l(c(Ze(R.layers)(ht)))(function(Yt){return l(i(nt(Yt)))(function(xt){return l(p(ht)(Xt({offsetX:S.offsetX-xt.x,offsetY:S.offsetY-xt.y}))(R.layers))(function(Tu){return C({dragIndex:new f(ht),layers:Tu})})})})})})))}},drag:function(S){return function(R){return u(kt(R))(Un(l(c(R.dragIndex))(function(Ht){return l(c(Ze(R.layers)(Ht)))(function(ht){return l(i(nt(ht)))(function(Yt){return l(p(Ht)(Ut({translateX:S.translateX-Yt.x,translateY:S.translateY-Yt.y}))(R.layers))(function(xt){return C({dragIndex:R.dragIndex,layers:xt})})})})})))}},dragEnd:function(S){return u(kt({layers:S.layers,dragIndex:s.value}))(Un(l(c(S.dragIndex))(function(R){return l(p(R)(rt)(S.layers))(function(Ht){return C({dragIndex:s.value,layers:Ht})})})))}}}},$g=function(t){return{layers:t,dragIndex:s.value}},dd=$g;var Og=rn(on),Ga=function(t){var e=t.Monad0(),n=e.Bind1(),r=M(n),o=St(t),a=Og(n),u=b(e.Applicative0());return function(l){return function(i){return r(o(Vt(i)))(function(c){return r(l(c))(function(p){return a(o(Qr(p)(i)))(function(){return u(p)})})})}}},pd=function(t){var e=ke(t.Monad0().Bind1().Apply0().Functor0()),n=Ga(t);return function(r){return function(o){return e(void 0)(n(r)(o))}}};var kg=Jt(Je),zg=function(t){return t};var Va=function(t){var e=t.Monad0().Bind1(),n=Jt(e),r=St(t),o=ke(e.Apply0().Functor0()),a=Ga(t);return function(u){var l=Dt(u),i=Nt(u),c=Mt(u),p=Pt(u),C=Wt(u),F=At(u),v=gt(u);return{position:function(g){return n(l)(r(Vt(g)))},translate:function(g){return function(x){return o(x)(a(i(g))(x))}},containsPoint:function(g){return function(x){return n(c(g))(r(Vt(x)))}},dragStart:function(g){return function(x){return o(x)(a(p(g))(x))}},drag:function(g){return function(x){return o(x)(a(C(g))(x))}},dragEnd:function(g){return o(g)(a(F)(g))},draw:function(g){return function(x){return kg(v(g))(Vt(x))}}}}};var Qa=function(t){var e=pd(t);return function(n){return function(r){return e(n)(r)}}},vd=function(t){var e=Ga(t);return function(n){return function(r){return e(n)(r)}}},jg=function(t){var e=St(t);return function(n){return function(r){return e(ir(n)(r))}}},md=function(t){var e=ke(t.Monad0().Bind1().Apply0().Functor0()),n=jg(t);return function(r){return function(o){return e(void 0)(n(r)(o))}}},Xa=function(t){var e=d(t.Monad0().Bind1().Apply0().Functor0()),n=St(t);return function(r){return e(zg)(n(Ge(r)))}};var oi={mapLayerWrapper:function(t){return function(e){var n=Ot(e.Bind1().Apply0().Functor0());return function(r){return function(o){return n(r(o.layer))(function(a){return{transform:o.transform,layer:a}})}}}}},Jg=pn(oi);var gd=function(t){return function(e){return{x:t.a*e.x+t.c*e.y+t.e,y:t.b*e.x+t.d*e.y+t.f}}},Ya=function(t){return function(e){return{transform:t,layer:e}}},Gg=function(t){return{a:t.d/(t.a*t.d-t.b*t.c),b:t.b/(t.b*t.c-t.a*t.d),c:t.c/(t.b*t.c-t.a*t.d),d:t.a/(t.a*t.d-t.b*t.c),e:(t.d*t.e-t.c*t.f)/(t.b*t.c-t.a*t.d),f:(t.b*t.e-t.a*t.f)/(t.a*t.d-t.b*t.c)}},Ka=function(t){var e=d(t.Bind1().Apply0().Functor0());return function(n){var r=Dt(n),o=Jg(n)(t),a=Mt(n),u=gt(n);return{position:function(l){return e(gd(l.transform))(r(l.layer))},translate:function(){var l=Nt(n);return function(i){return o(l(i))}}(),containsPoint:function(l){return function(i){return a(gd(Gg(i.transform))(l))(i.layer)}},dragStart:function(){var l=Pt(n);return function(i){return o(l(i))}}(),drag:function(){var l=Wt(n);return function(i){return o(l(i))}}(),dragEnd:o(At(n)),draw:function(l){return function(i){return Rt(l)(function(){return Qu(l)(i.transform)(),u(l)(i.layer)()})}}}}};var Vg=pn(oi);var Qg=function(t){return t},Xg={mapLayerWrapper:function(t){var e=Vg(t);return function(n){var r=d(n.Bind1().Apply0().Functor0()),o=e(n);return function(a){return function(u){return r(Qg)(o(a)(u))}}}}},Yg=pn(Xg);var Rd=function(t){var e=Ka(t);return function(n){var r=e(n),o=Dt(r),a=Yg(n)(t),u=Mt(r),l=gt(r);return{position:function(i){return o(i)},translate:function(){var i=Nt(n);return function(c){return a(i(c))}}(),containsPoint:function(i){return function(c){return u(i)(c)}},dragStart:function(){var i=Pt(n);return function(c){return a(i(c))}}(),drag:function(){var i=Wt(n);return function(c){return a(i(c))}}(),dragEnd:a(At(n)),draw:function(i){return function(c){return l(i)(c)}}}}};var ai=function(t){return function(e){return Ya({a:ca(t),b:fa(t),c:-fa(t),d:ca(t),e:0,f:0})(e)}},Dd=function(t){return function(e){return ai(t)(e.layer)}};var yd=function(t){return t};var lh=yd;var ui=function(t){return t};var Td=function(t){if(yt(t)>0)return new f(lh(t));if(Lt)return s.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): "+[t.constructor.name])};var Ir=function(t){var e=null;return function(){return t===void 0||(e=t(),t=void 0),e}},Po=function(t){return t()};var mh=function(t,e,n){var r=0,o;return function(a){if(r===2)return o;if(r===1)throw new ReferenceError(t+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,o=n(),r=2,o}};var _h=Mn();var en=function(){function t(e,n,r){this.value0=e,this.value1=n,this.value2=r}return t.create=function(e){return function(n){return function(r){return new t(e,n,r)}}},t}(),nn=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Ed=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),Md=function(){function t(e){this.value0=e}return t.create=function(e){return new t(e)},t}(),ci=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var xd={defer:function(t){var e=Ir(t);return function(n,r,o,a,u){var l=Po(e);return l(n,r,o,a,u)}}};var zn={map:function(t){return function(e){return function(n,r,o,a,u){return r(function(l){return e(n,r,o,a,function(i,c){return r(function(p){return u(i,t(c))})})})}}}};var wn={alt:function(t){return function(e){return function(n,r,o,a,u){return r(function(l){return t(new en(n.value0,n.value1,!1),r,o,function(i,c){return r(function(p){return i.value2?a(i,c):e(n,r,o,a,u)})},u)})}}},Functor0:function(){return zn}},gh=function(t){return function(e,n,r,o,a){var u=t(e);return a(u.value1,u.value0)}};var hh=function(t){var e=t.Monad0(),n=d(e.Bind1().Apply0().Functor0()),r=b(e.Applicative0()),o=Qe(t);return function(a){return function(u){var l=function(i){var c=!1,p;function C(F){var v=F(void 0);if(v instanceof Ed){i=v.value0;return}if(v instanceof Md)return c=!0,n(ee.create)(v.value0);if(v instanceof ci)return c=!0,r(new ne(new I(v.value1,v.value0)));throw new Error("Failed pattern match at Parsing (line 160, column 13 - line 166, column 32): "+[v.constructor.name])}for(;!c;)p=C(i);return p};return o(l)(function(i){return u(a,Ed.create,Md.create,function(c,p){return new ci(c,new at(p))},function(c,p){return new ci(c,new it(p))})})}}},Ld=gh(function(t){return new I(t.value1,t)});var Rh={index:0,line:1,column:1},Dh=function(t){var e=d(t.Monad0().Bind1().Apply0().Functor0()),n=hh(t);return function(r){return function(o){var a=new en(r,Rh,!1);return e(Xe)(n(a)(o))}}},yh=Dh(hf),Id=function(t){var e=yh(t);return function(n){return _h(e(n))}};var tu=function(t){return function(e){return t.value2&&!e.value2?new en(e.value0,e.value1,!0):e}},Cn={apply:function(t){return function(e){return function(n,r,o,a,u){return r(function(l){return t(n,r,o,a,function(i,c){return r(function(p){var C=tu(n)(i);return e(C,r,o,a,function(F,v){return r(function(g){return u(tu(C)(F),c(v))})})})})})}}},Functor0:function(){return zn}};var Sr={pure:function(t){return function(e,n,r,o,a){return a(e,t)}},Apply0:function(){return Cn}};var jn={bind:function(t){return function(e){return function(n,r,o,a,u){return r(function(l){return t(n,r,o,a,function(i,c){return r(function(p){var C=e(c);return C(tu(n)(i),r,o,a,u)})})})}}},Apply0:function(){return Cn}},Fh=Jt(jn);var Sd={Applicative0:function(){return Sr},Bind1:function(){return jn}};var si={throwError:function(t){return function(e,n,r,o,a){return o(e,t)}},Monad0:function(){return Sd}},bh=Wn(si),wh=function(t){return function(e){return bh(new nn(t,e))}},Nr=function(t){return Fh(wh(t))(Ld)};var eu={tailRecM:function(t){return function(e){return function(n,r,o,a,u){var l=mh("loop","Parsing",function(){return function(c,p,C){var F=t(p);return F(c,r,o,a,function(v,g){var x=tu(c)(v);if(g instanceof ee){var nt=C===0;return nt?r(function(Xt){return l(288)(x,g.value0,30)}):l(290)(x,g.value0,C-1|0)}if(g instanceof ne)return u(x,g.value0);throw new Error("Failed pattern match at Parsing (line 284, column 19 - line 292, column 46): "+[g.constructor.name])})}}),i=l(279);return i(n,e,30)}}},Monad0:function(){return Sd}};var $e=function(){function t(){}return t.value=new t,t}(),qe=function(){function t(e,n){this.value0=e,this.value1=n}return t.create=function(e){return function(n){return new t(e,n)}},t}();var Pr={foldr:function(t){return function(e){var n=function(){var o=function(a){return function(u){var l=a,i=!1,c;function p(C,F){if(F instanceof $e)return i=!0,C;if(F instanceof qe){l=new qe(F.value0,C),u=F.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[C.constructor.name,F.constructor.name])}for(;!i;)c=p(l,u);return c}};return o($e.value)}(),r=dt(Pr)(V(t))(e);return function(o){return r(n(o))}}},foldl:function(t){var e=function(n){return function(r){var o=n,a=!1,u;function l(i,c){if(c instanceof $e)return a=!0,i;if(c instanceof qe){o=t(i)(c.value0),r=c.value1;return}throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[c.constructor.name])}for(;!a;)u=l(o,r);return u}};return e},foldMap:function(t){var e=H(t.Semigroup0()),n=mt(t);return function(r){return dt(Pr)(function(o){var a=e(o);return function(u){return a(r(u))}})(n)}}};var $d=wt(wn),t0=En(xd);var e0=ue(Cn);var n0=Yi(Cn);var qd=function(t){return function(e){return $d(t)(t0(function(n){return Nr("Expected "+e(void 0))}))}},di=function(t){return function(e){return $d(t)(Nr("Expected "+e))}};var Ar=function(t){return function(e,n,r,o,a){return t(e,n,r,function(u,l){return o(new en(u.value0,u.value1,e.value2),l)},a)}};var Uo=function(t){return function(e){return function(n){return n0(e0(t)(n))(e)}}};var vi=M(jn),r0=Qe(eu),o0=wt(wn),nu=b(Sr),a0=Nl(Pr);var u0=function(t){return vi(V(r0)($e.value)(function(e){return o0(vi(t)(function(n){return nu(new ee(new qe(n,e)))}))(nu(new ne(e)))}))(function(e){return nu(vn(a0(e)))})},mi=function(t){return vi(u0(t))(function(e){var n=Td(e);if(n instanceof s)return Nr("Expected at least 1");if(n instanceof f)return nu(n.value0);throw new Error("Failed pattern match at Parsing.Combinators.Array (line 55, column 3 - line 57, column 25): "+[n.constructor.name])})};var _i=yn(Bn),i0=Vr(pa),c0=un(),f0=tn(wo);var s0=E(aa);var gi=function(t){return function(e){return function(n){var r=_i(e);if(r===10)return{index:t.index+1|0,line:t.line+1|0,column:1};if(r===13){var o=$s(0)(n);return o instanceof f&&_i(o.value0)===10?{index:t.index+1|0,line:t.line,column:t.column}:{index:t.index+1|0,line:t.line+1|0,column:1}}return r===9?{index:t.index+1|0,line:t.line,column:(t.column+8|0)-i0(t.column-1|0)(8)|0}:{index:t.index+1|0,line:t.line,column:t.column+1|0}}}},d0=function(t){return function(e){return function(n){var r=t,o=e,a=!1,u;function l(i,c,p){var C=$a(c);if(C instanceof s)return a=!0,i;if(C instanceof f){var F=function(){if(ur(C.value0.tail))return gi(i)(C.value0.head)(p);if(Lt)return gi(i)(C.value0.head)(C.value0.tail);throw new Error("Failed pattern match at Parsing.String (line 165, column 7 - line 167, column 52): ")}();r=F,o=C.value0.tail,n=p;return}throw new Error("Failed pattern match at Parsing.String (line 161, column 36 - line 168, column 38): "+[C.constructor.name])}for(;!a;)u=l(r,o,n);return u}}};var hi=function(t){return fo(function(e){return function(n){return function(r){return function(o){return function(a){var u=$a(e.value0);if(u instanceof s)return o(e,new nn("Unexpected EOF",e.value1));if(u instanceof f){var l=_i(u.value0.head),i=l<0||l>65535;if(i)return o(e,new nn("Expected Char",e.value1));var c=c0(f0(l)),p=t(c);return p?a(new en(u.value0.tail,gi(e.value1)(u.value0.head)(u.value0.tail),!0),c):o(e,new nn("Predicate unsatisfied",e.value1))}throw new Error("Failed pattern match at Parsing.String (line 114, column 7 - line 129, column 75): "+[u.constructor.name])}}}}})};var Ri=fo(function(t){return function(e){return function(n){return function(r){return function(o){var a=ur(t.value0);return a?o(new en(t.value0,t.value1,!0),void 0):r(t,new nn("Expected EOF",t.value1))}}}}}),Bd=function(t){return fo(function(e){return function(n){return function(r){return function(o){return function(a){var u=t(e.value0);if(u instanceof at)return o(e,new nn(u.value0,e.value1));if(u instanceof it)return a(new en(u.value0.remainder,d0(e.value1)(u.value0.consumed)(u.value0.remainder),!ur(u.value0.consumed)),u.value0.value);throw new Error("Failed pattern match at Parsing.String (line 286, column 7 - line 290, column 121): "+[u.constructor.name])}}}}})};var Di=Bd(function(t){return new it({value:t,consumed:t,remainder:""})});var pe=function(t){return di(hi(function(e){return e===t}))(s0(t))};var R0=E(Wu(aa));var D0=Al(ta);var jd=function(t){return qd(hi(V(D0)(t)))(function(e){return"none of "+R0(t)})};function ru(t,e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);for(var o in t)({}).hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}var ou=function(){return function(){return function(t){return function(e){return ru(t,e)}}}};var w0=E(rr),au=H(ge),Ho=Ot(pt),Kd=dt(st),bi=d(W),C0=lo(jr)(st),Jn=jt(de)(Tt),uu=io(st)(Ie),Oe=d(pt),T0=b(Tt);var ye=d(zn),Be=wt(wn),cu=ue(Cn),E0=ou()(),M0=os(Tt)(de),x0=G(Y),yi=uo(Tt)(st),Zd=ke(zn);var fu=function(){function t(){}return t.value=new t,t}(),tp=function(){function t(){}return t.value=new t,t}(),su=function(){function t(){}return t.value=new t,t}(),ep=function(){function t(){}return t.value=new t,t}();var np=function(t){return t.text},L0=function(t){return function(e){return function(n){return{line:Ft(e.line)(n),width:e.width+t+n.width}}}},wi=function(t){return function(e){return function(n){var r=function(){if(n.weight instanceof fu)return e.weight.normal;if(n.weight instanceof tp)return e.weight.bold;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 300, column 14 - line 302, column 37): "+[n.weight.constructor.name])}(),o=function(){if(n.style instanceof su)return e.style.normal;if(n.style instanceof ep)return e.style.italic;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 297, column 13 - line 299, column 39): "+[n.style.constructor.name])}();return fr(t)(o+(" "+(r+(" "+(w0(e.size)+("px "+e.name))))))}}};var rp=function(t){return function(e){return{text:e.text,position:e.position,maxWidth:e.maxWidth,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,fillStyle:t}}},I0=function(t){return ur(np(t.fragment))},S0=function(t){return Aa(I0)(t.word)},N0=function(t){return Aa(S0)(t.line)};var op=function(t){return function(e){var n=function(o){return function(a){var u=_o(1)(t(a.text));if(u.before.length===1&&u.before[0]===""&&u.after.length===0)return{splits:o.splits,split:o.split};if(u.before.length===1&&u.after.length===0)return{splits:o.splits,split:Ft(o.split)({style:a.style,weight:a.weight,text:u.before[0]})};if(u.before.length===1&&u.before[0]===""){var l=_o(yt(u.after)-1|0)(u.after);return l.after.length===1&&l.after[0]===""?{splits:au(Ft(o.splits)(o.split))(Ho(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[]}:l.after.length===1?{splits:au(Ft(o.splits)(o.split))(Ho(l.before)(function(i){return[{style:a.style,weight:a.weight,text:i}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:o.splits,split:o.split}}if(u.before.length===1){var l=_o(yt(u.after)-1|0)(u.after);return l.after.length===1&&l.after[0]===""?{splits:au(Ft(o.splits)(Ft(o.split)({style:a.style,weight:a.weight,text:u.before[0]})))(Ho(l.before)(function(c){return[{style:a.style,weight:a.weight,text:c}]})),split:[]}:l.after.length===1?{splits:au(Ft(o.splits)(Ft(o.split)({style:a.style,weight:a.weight,text:u.before[0]})))(Ho(l.before)(function(c){return[{style:a.style,weight:a.weight,text:c}]})),split:[{style:a.style,weight:a.weight,text:l.after[0]}]}:{splits:o.splits,split:o.split}}return{splits:o.splits,split:o.split}}},r=Kd(n)({splits:[],split:[]})(e);return Ft(r.splits)(r.split)}},ap=op(To),Ci=function(t){return{text:t,style:su.value,weight:fu.value}};var P0=function(t){return function(e){return{fragment:t,width:e}}},up=function(t){return function(e){return function(n){return Rt(t)(function(){return wi(t)(e)(n)(),Ba(t)(n.text)()})}}},Ti=function(t){return function(e){return up(t)(e)({style:su.value,weight:fu.value,text:" "})}},A0=function(t){return function(e){return function(n){return Rt(t)(function(){return wi(t)(e)(n)(),ti(t)(n.text)()})}}},W0=function(t){return function(e){return function(n){return bi(function(){var r=kt(0);return function(o){return r(C0(o))}}())(Jn(A0(t)(e))(n))}}},U0=function(t){return function(e){return function(n){return bi(P0(n))(up(t)(e)(n))}}},lp=function(t){return function(e){return function(n){return function(){var o=Jn(U0(t)(e))(n)(),a=uu(Oe(function(u){return u.width})(o));return{word:o,width:a}}}}},Gd=function(t){return function(e){return function(n){var r=ap(n);return function(){var a=Jn(lp(t)(e))(r)(),u=Ti(t)(e)(),l=u*ct(yt(a)-1|0)+uu(Oe(function(i){return i.width})(a));return{line:a,width:l}}}}},H0=function(t){return function(e){return function(n){return function(r){var o=ap(r);return function(){var u=Jn(lp(t)(e))(o)(),l=Ti(t)(e)(),i=function(p){return function(C){if(p.value1.line.length===0)return new I(p.value0,{line:[C],width:C.width});var F=p.value1.width+l+C.width>n;return F?new I(Ft(p.value0)(p.value1),{line:[C],width:C.width}):new I(p.value0,L0(l)(p.value1)(C))}},c=Kd(i)(new I([],{line:[],width:0}))(u);return c.value1.line.length===0?c.value0:Ft(c.value0)(c.value1)}}}}};var $o=function(){var t=ye(ui);return function(e){return t(mi(e))}}(),qo=ye(function(t){return Ci(zl(t))})($o(jd(["_","*"]))),Fi=op(Eo),Vd=function(t){return function(e){return function(n){return function(r){return bi(mn)(Jn(H0(t)(e)(n))(Fi(r)))}}}},lu=function(t){return{text:t.text,weight:t.weight,style:ep.value}},Qd=Be(Ar(Uo(pe("_"))(pe("_"))(ye(lu)(qo))))(Be(qo)(cu(pe("_"))(ye(function(t){return lu(Ci(t))})(Di)))),$0=function(t){return t.fragment},q0=function(t){return Oe($0)(t.word)},O0=function(t){return Oe(q0)(t.line)},Xd=function(t){return function(e){return function(n){return function(r){return function(){var a=W0(t)(e)(mn(Wl(O0)(r)))();return Ho(r)(function(u){return E0(u)({height:function(){var l=N0(u);return l?n*e.size:a}()})})}}}}},Ei=function(t){var e=t.Monad0().Applicative0(),n=b(e),r=St(t),o=We(e);return{position:function(a){return n(a.position)},translate:function(a){return function(u){return n({text:u.text,maxWidth:u.maxWidth,fillStyle:u.fillStyle,font:u.font,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,emptyLineHeight:u.emptyLineHeight,letterSpacing:u.letterSpacing,dragOffset:u.dragOffset,context:u.context,position:dn(a)(u.position)})}},containsPoint:function(a){return function(u){return r(Rt(u.context)(function(){Ve(u.context)(u.fillStyle)(),vr(u.context)(u.baseline)(),mr(u.context)(u.align)(),kn(u.context)(u.letterSpacing)();var i=function(){if(u.maxWidth instanceof f)return Vd(u.context)(u.font)(u.maxWidth.value0)(u.text)();if(u.maxWidth instanceof s)return Jn(Gd(u.context)(u.font))(Fi(u.text))();throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 204, column 15 - line 206, column 89): "+[u.maxWidth.constructor.name])}(),c=Xd(u.context)(u.font)(u.emptyLineHeight)(i)(),p=uu(Oe(function(v){return v.height})(c))+(u.lineHeight-1)*u.font.size*ct(yt(c)-1|0),C=An(0)(wr(function(v){return function(g){return v+g.height+(u.lineHeight-1)*u.font.size}})(0)(c)),F=M0(hn(c)(C))(function(v){var g=function(){return u.baseline instanceof we?u.position.y+v.value1:u.baseline instanceof sr?u.position.y+v.value1-p:u.position.y+v.value1}();return T0(function(){if(u.align instanceof dr||u.align instanceof Re)return u.position.x<=a.x&&a.x<=u.position.x+v.value0.width&&g<=a.y&&a.y<=g+v.value0.height;if(u.align instanceof pr||u.align instanceof sn)return u.position.x-v.value0.width<=a.x&&a.x<=u.position.x&&g<=a.y&&a.y<=g+v.value0.height;if(u.align instanceof Pe)return u.position.x-v.value0.width/2<=a.x&&a.x<=u.position.x+v.value0.width/2&&g<=a.y&&a.y<=g+v.value0.height;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 222, column 14 - line 242, column 33): "+[u.align.constructor.name])}())})();return ho(x0)(F)}))}},dragStart:function(a){return function(u){return n({text:u.text,position:u.position,maxWidth:u.maxWidth,fillStyle:u.fillStyle,font:u.font,align:u.align,baseline:u.baseline,lineHeight:u.lineHeight,emptyLineHeight:u.emptyLineHeight,letterSpacing:u.letterSpacing,context:u.context,dragOffset:new f(a)})}},drag:function(a){return function(u){return o(Ei(t))(u.dragOffset)(a)(u)}},dragEnd:function(a){return n({text:a.text,position:a.position,maxWidth:a.maxWidth,fillStyle:a.fillStyle,font:a.font,align:a.align,baseline:a.baseline,lineHeight:a.lineHeight,emptyLineHeight:a.emptyLineHeight,letterSpacing:a.letterSpacing,context:a.context,dragOffset:s.value})},draw:function(a){return function(u){return Rt(a)(function(){Ve(a)(u.fillStyle)(),vr(a)(u.baseline)(),mr(a)(Re.value)(),kn(a)(u.letterSpacing)();var i=function(){if(u.maxWidth instanceof f)return Vd(a)(u.font)(u.maxWidth.value0)(u.text)();if(u.maxWidth instanceof s)return Jn(Gd(a)(u.font))(Fi(u.text))();throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 257, column 15 - line 259, column 83): "+[u.maxWidth.constructor.name])}(),c=Xd(a)(u.font)(u.emptyLineHeight)(i)(),p=uu(Oe(function(F){return F.height})(c))+(u.lineHeight-1)*u.font.size*ct(yt(c)-1|0),C=An(0)(wr(function(F){return function(v){return F+v.height+(u.lineHeight-1)*u.font.size}})(0)(c));return yi(hn(c)(C))(function(F){var v=function(){return u.baseline instanceof we?u.position.y+F.value1:u.baseline instanceof sr?u.position.y+F.value1-p+F.value0.height:u.position.y+F.value1}(),g=function(){if(u.align instanceof dr||u.align instanceof Re)return u.position.x;if(u.align instanceof pr||u.align instanceof sn)return u.position.x-F.value0.width;if(u.align instanceof Pe)return u.position.x-F.value0.width/2;throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 278, column 16 - line 283, column 57): "+[u.align.constructor.name])}();return function(){var nt=Ti(a)(u.font)(),Xt=An(0)(wr(function(Ut){return function(rt){return Ut+nt+rt.width}})(0)(F.value0.line));return yi(hn(F.value0.line)(Xt))(function(Ut){var rt=An(0)(wr(function(S){return function(R){return S+R.width}})(0)(Ut.value0.word));return yi(hn(Ut.value0.word)(rt))(function(S){return function(){return wi(a)(u.font)(S.value0.fragment)(),Zr(a)(np(S.value0.fragment))(g+Ut.value1+S.value1)(v)()}})})()}})()})}}}},iu=function(t){return{text:t.text,style:t.style,weight:tp.value}},B0=Be(Ar(Uo(pe("*"))(pe("*"))(ye(Oe(iu))($o(Qd)))))(cu(pe("*"))(Be(Zd([])(Ri))(ye(Oe(iu))($o(Qd))))),Yd=Be(Ar(Uo(pe("*"))(pe("*"))(ye(iu)(qo))))(Be(qo)(cu(pe("*"))(ye(function(t){return iu(Ci(t))})(Di)))),k0=Be(Ar(Uo(pe("_"))(pe("_"))(ye(Oe(lu))($o(Yd)))))(cu(pe("_"))(Be(Zd([])(Ri))(ye(Oe(lu))($o(Yd))))),z0=ye(function(t){return mn(ui(t))})(mi(Be(k0)(Be(B0)(ye(Pa)(qo)))));var ip=function(t){return function(e){var n=Id(t)(z0);if(n instanceof it)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:n.value0};if(n instanceof at)return{position:e.position,maxWidth:e.maxWidth,fillStyle:e.fillStyle,font:e.font,align:e.align,baseline:e.baseline,lineHeight:e.lineHeight,emptyLineHeight:e.emptyLineHeight,letterSpacing:e.letterSpacing,dragOffset:e.dragOffset,context:e.context,text:[{text:t,style:su.value,weight:fu.value}]};throw new Error("Failed pattern match at Sjablong.Layer.Text.Markup (line 179, column 37 - line 181, column 106): "+[n.constructor.name])}};var fp=function(t){return t},sp=function(t){return t};var j0={mapLayerWrapper:function(t){return function(e){var n=d(e.Bind1().Apply0().Functor0());return function(r){return function(o){return n(fp)(r(o))}}}}},J0=pn(j0);var G0={mapLayerWrapper:function(t){return function(e){var n=d(e.Bind1().Apply0().Functor0());return function(r){return function(o){return n(sp)(r(o))}}}}},V0=pn(G0);var dp=function(t){return function(e){var n=Dt(e),r=J0(e)(t),o=Mt(e),a=Pt(e),u=Wt(e),l=gt(e);return{position:function(i){return n(i)},translate:function(){var i=Nt(e);return function(c){return r(i(c))}}(),containsPoint:function(i){return function(c){return o(i)(c)}},dragStart:function(i){return r(a({offsetX:0,offsetY:i.offsetY}))},drag:function(i){return r(u({translateX:0,translateY:i.translateY}))},dragEnd:r(At(e)),draw:function(i){return function(c){return l(i)(c)}}}}},pp=function(t){var e=b(t.Applicative0());return function(n){var r=Dt(n),o=Mt(n),a=gt(n);return{position:function(u){return r(u)},translate:function(){var u=V0(n)(t),l=Nt(n);return function(i){return u(l(i))}}(),containsPoint:function(u){return function(l){return o(u)(l)}},dragStart:z(e),drag:z(e),dragEnd:e,draw:function(u){return function(l){return a(u)(l)}}}}};var Mi=fp,xi=sp;var Gn=function(t){return function(e){return function(){return e[t]}}},X0=Gn("URL"),Y0=Gn("documentURI"),K0=Gn("origin"),Z0=Gn("compatMode"),tR=Gn("characterSet"),eR=Gn("contentType");var nR=Gn("documentElement");function Li(t){return function(e){return function(){return e.createElement(t)}}}function vp(t,e,n){return t==null?e:n(t)}var ut=function(t){return vp(t,s.value,f.create)};function mp(t,e,n,r){if(typeof window<"u"){var o=window[n];if(o!=null&&r instanceof o)return e(r)}for(var a=r;a!=null;){var u=Object.getPrototypeOf(a),l=u.constructor.name;if(l===n)return e(r);if(l==="Object")return t;a=u}return t}var D=function(t){return function(e){return mp(s.value,f.create,t,e)}};var du=function(t){return function(e){return e[t]}},cR=du("namespaceURI"),fR=du("prefix"),sR=du("localName"),dR=du("tagName");function pu(t){return function(e){return function(n){return function(){n.setAttribute(t,e)}}}}function Ii(t){return function(){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}}var vu=function(t){return function(e){return function(){return e[t]}}},vR=vu("children"),mR=vu("firstElementChild"),_R=vu("lastElementChild"),gR=vu("childElementCount");var Fe=_;var xe=function(t){return function(e){return function(){return e[t]}}};var FR=xe("baseURI"),bR=xe("ownerDocument"),wR=xe("parentNode"),CR=xe("parentElement");var TR=xe("childNodes"),ER=xe("firstChild"),MR=xe("lastChild"),xR=xe("previousSibling"),LR=xe("nextSibling"),IR=xe("nodeValue");var SR=xe("textContent");function gp(t){return function(e){return function(){return e.getElementById(t)}}}var $R=d(W),Vn=function(t){var e=$R(ut),n=gp(t);return function(r){return e(n(r))}};function oe(t){return function(){return function(e){return t(e)()}}}function ae(t){return function(e){return function(n){return function(r){return function(){return r.addEventListener(t,e,n)}}}}}var Si=function(){return window};var Qn=_;var hp=_,Rp=_;function Dp(t,e,n){var r=Object.prototype.toString.call(n);return r.indexOf("[object HTML")===0&&r.indexOf("Element]")===r.length-8?e(n):t}function Ni(t){return function(){return t.click()}}function Pi(t){return function(){return t.offsetWidth}}function Ai(t){return function(){return t.offsetHeight}}var yp=_;var Wi=function(t){return Dp(s.value,f.create,t)};function mu(t){return function(){return t.checked}}function _u(t){return function(){return t.value}}var Ui=D("HTMLInputElement");function gu(t){return function(){return t.value}}var Cp=D("HTMLSelectElement");function hu(t){return function(){return t.value}}var Tp=D("HTMLTextAreaElement");function Hi(t){return function(){return t.document}}function Oo(t){return t.clientX}function Bo(t){return t.clientY}function ko(t){return t.touches}var Ru=D("TouchEvent");function Ep(t,e){return e.item(t)}var Du=function(t){return function(e){return ut(Ep(t,e))}};function zo(t){return t.clientX}function jo(t){return t.clientY}var yu=D("MouseEvent");var Tn=b(Tt),iD=rn(on),Jo=Va(_t)(ga(W)),cD=gt(Jo),Ur=Dt(Jo),Mp=Pt(Jo),bu=Wt(Jo),xp=At(Jo),qi=Hn(It),Wr=M(qi),$i=Jt(qi),Fu=Er(It),Xn=Ee(Tr)(It),Lp=iD(qi),Ip=Jt(Je),Sp=b(Fo(It)),fD=Xa(_t),sD=ou()(),Yn=Qa(_t);var Hr=function(t){return function(e){return function(n){return function(){var o=Ii(yp(e))(),a=Pi(e)(),u=Ai(e)(),l=Yr(t)(),i=Kr(t)();return{x:(n.x-o.left)*l/a,y:(n.y-o.top)*i/u}}}}},be=function(t){return function(){var n=Xr(t.canvas)(),r=ef(t.canvas)();return Gu(n)({x:0,y:0,width:r.width,height:r.height})(),Rt(n)(cD(n)(t.layer))()}},dD=function(t){return oe(function(e){var n=Ru(e);if(n instanceof s)return Tn(void 0);if(n instanceof f){var r=Du(0)(ko(n.value0));if(r instanceof s)return be(t);if(r instanceof f)return function(){var a=Ur(t.layer)(),u=Hr(t.canvas)(t.canvasHtmlElement)({x:ct(Oo(r.value0)),y:ct(Bo(r.value0))})(),l={offsetX:u.x-a.x,offsetY:u.y-a.y};return Mp(l)(t.layer)(),be(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 200, column 22 - line 210, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 198, column 63 - line 210, column 22): "+[n.constructor.name])})},pD=function(t){return oe(function(e){var n=Ru(e);if(n instanceof s)return Tn(void 0);if(n instanceof f){var r=Du(0)(ko(n.value0));if(r instanceof s)return be(t);if(r instanceof f)return function(){var a=Ur(t.layer)(),u=Hr(t.canvas)(t.canvasHtmlElement)({x:ct(Oo(r.value0)),y:ct(Bo(r.value0))})(),l={translateX:u.x-a.x,translateY:u.y-a.y};return bu(l)(t.layer)(),be(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 228, column 22 - line 238, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 226, column 62 - line 238, column 22): "+[n.constructor.name])})},vD=function(t){return oe(function(e){var n=Ru(e);if(n instanceof s)return Tn(void 0);if(n instanceof f){var r=Du(0)(ko(n.value0));if(r instanceof s)return be(t);if(r instanceof f)return function(){var a=Ur(t.layer)(),u=Hr(t.canvas)(t.canvasHtmlElement)({x:ct(Oo(r.value0)),y:ct(Bo(r.value0))})(),l={translateX:u.x-a.x,translateY:u.y-a.y};return bu(l)(t.layer)(),xp(t.layer)(),be(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 257, column 22 - line 268, column 22): "+[r.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 255, column 61 - line 268, column 22): "+[n.constructor.name])})},Np=function(t){return function(e){return Un(Wr($i(Fu)(Xn(tf(t))))(function(n){return Lp(Xn(Zc(n)(e)))(function(){return Wr(Xn(Ip(Hi)(Si)))(function(r){return Wr($i(Fu)(Xn(Vn(t)(Qn(r)))))(function(o){return Wr(Fu(Wi(o)))(function(a){return Sp({canvas:n,canvasElement:o,canvasHtmlElement:a,document:r})})})})})}))}},Pp=function(t){var e=Ce(t);return function(n){return function(r){return function(){var a=fD(e(r))();return sD(n)({layer:a})}}}},mD=function(t){return oe(function(e){var n=yu(e);if(n instanceof s)return Tn(void 0);if(n instanceof f)return function(){var o=Ur(t.layer)(),a=Hr(t.canvas)(t.canvasHtmlElement)({x:ct(zo(n.value0)),y:ct(jo(n.value0))})(),u={translateX:a.x-o.x,translateY:a.y-o.y};return bu(u)(t.layer)(),xp(t.layer)(),be(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 241, column 60 - line 252, column 20): "+[n.constructor.name])})},_D=function(t){return oe(function(e){var n=yu(e);if(n instanceof s)return Tn(void 0);if(n instanceof f)return function(){var o=Ur(t.layer)(),a=Hr(t.canvas)(t.canvasHtmlElement)({x:ct(zo(n.value0)),y:ct(jo(n.value0))})(),u={translateX:a.x-o.x,translateY:a.y-o.y};return bu(u)(t.layer)(),be(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 213, column 62 - line 223, column 20): "+[n.constructor.name])})},gD=function(t){return oe(function(e){var n=yu(e);if(n instanceof s)return Tn(void 0);if(n instanceof f)return function(){var o=Ur(t.layer)(),a=Hr(t.canvas)(t.canvasHtmlElement)({x:ct(zo(n.value0)),y:ct(jo(n.value0))})(),u={offsetX:a.x-o.x,offsetY:a.y-o.y};return Mp(u)(t.layer)(),be(t)()};throw new Error("Failed pattern match at Sjablong.Main (line 185, column 62 - line 195, column 20): "+[n.constructor.name])})},hD=function(t){return oe(function(e){return be(t)})};var Ap=function(t){return function(e){return function(n){return Un(function(){var r=Qn(n.document);return Wr($i(Fu)(Xn(Vn(t)(r))))(function(o){return Wr(Xn(oe(function(a){return function(){var l=ku(n.canvas)(),i=Li("a")(Rp(n.document))();pu("href")(l)(i)(),pu("download")(e)(i)();var c=Wi(i);if(c instanceof f)return Ni(c.value0)();throw new Error("Failed pattern match at Sjablong.Main (line 150, column 9 - line 150, column 53): "+[c.constructor.name])}})))(function(a){return Lp(Xn(ae("click")(a)(!1)(Fe(o))))(function(){return Sp(o)})})})}())}}},wu=function(t){return function(e){return function(n){return function(){var o=Vn(e)(Qn(t.document))();if(o instanceof f){var a=Cp(o.value0);if(a instanceof f){var u=gu(a.value0)();n(u)();var l=oe(function(i){return Ip(n)(gu(a.value0))})();return ae("input")(l)(!1)(Fe(o.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 337, column 7 - line 337, column 54): "+[a.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 336, column 3 - line 336, column 79): "+[o.constructor.name])}}}},Oi=function(t){return function(e){return function(n){return function(r){return function(){var a=Vn(e)(Qn(t.document))();if(a instanceof f){var u=Tp(a.value0);if(u instanceof f){var l=hu(u.value0)();Yn(r(l))(n)();var i=oe(function(c){return function(){var C=hu(u.value0)();return Yn(r(C))(n)()}})();return ae("input")(i)(!1)(Fe(a.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 304, column 7 - line 304, column 55): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 303, column 3 - line 303, column 79): "+[a.constructor.name])}}}}},Wp=function(t){return function(e){return function(n){return function(r){return Oi(t)(e)(n)(function(o){return function(a){return function(u){return Tn(a(u))}}(r(o))})}}}},Bi=function(t){return function(e){return function(n){return function(r){return wu(t)(e)(function(o){return Yn(r(o))(n)})}}}};var Up=function(t){return function(e){return function(n){return function(r){return function(){var a=Vn(e)(Qn(t.document))();if(a instanceof f){var u=Ui(a.value0);if(u instanceof f){var l=_u(u.value0)();(function(){var c=sa(l);if(c instanceof f)return Yn(r(c.value0))(n)();if(c instanceof s)return void 0;throw new Error("Failed pattern match at Sjablong.Main (line 357, column 3 - line 359, column 25): "+[c.constructor.name])})();var i=oe(function(c){return function(){var C=_u(u.value0)(),F=sa(C);if(F instanceof f)return Yn(r(F.value0))(n)();if(F instanceof s)return void 0;throw new Error("Failed pattern match at Sjablong.Main (line 363, column 5 - line 365, column 27): "+[F.constructor.name])}})();return ae("input")(i)(!1)(Fe(a.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 354, column 7 - line 354, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 353, column 3 - line 353, column 79): "+[a.constructor.name])}}}}};var ki=function(t){return function(e){return function(n){return function(r){return function(){var a=Vn(e)(Qn(t.document))();if(a instanceof f){var u=Ui(a.value0);if(u instanceof f){var l=mu(u.value0)();Yn(r(l))(n)();var i=oe(function(c){return function(){var C=mu(u.value0)();return Yn(r(C))(n)()}})();return ae("input")(i)(!1)(Fe(a.value0))()}throw new Error("Failed pattern match at Sjablong.Main (line 320, column 7 - line 320, column 52): "+[u.constructor.name])}throw new Error("Failed pattern match at Sjablong.Main (line 319, column 3 - line 319, column 79): "+[a.constructor.name])}}}}},Hp=function(t){return function(e){return function(n){return function(r){return ki(t)(e)(n)(function(o){return function(a){return function(u){return Tn(a(u))}}(r(o))})}}}};var $p=function(t){return function(){var n=gD(t)(),r=_D(t)(),o=mD(t)(),a=dD(t)(),u=pD(t)(),l=vD(t)(),i=hD(t)();return ae("mousedown")(n)(!1)(Fe(t.canvasElement))(),ae("mousemove")(r)(!1)(Fe(t.canvasElement))(),ae("mouseup")(o)(!1)(Fe(t.canvasElement))(),ae("touchstart")(a)(!1)(Fe(t.canvasElement))(),ae("touchmove")(u)(!1)(Fe(t.canvasElement))(),ae("touchend")(l)(!1)(Fe(t.canvasElement))(),ae("input")(i)(!1)(hp(t.document))()}};var Cu=bt(W),$r=Xa(_t),DD=Jt(Je),yD=cd(_t),FD=vd(_t),bD=fd(_t),wD=Ot(W),qp=Lu(Je),CD=Io(_t),TD=ld(_t),ED=ud(_t),MD=ad(_t),zi=Ja(_t),qr=Va(_t),Ji=qr(nd(It)(_t)),Go=Ce(Ji),xD=Dt(Ji),Op=Qa(_t),kp=dp(It),LD=Ce(kp(Ji)),Bp=md(_t),ID=od(_t),zp=ga(W),SD=Ce(qr(Rd(It)(Ka(It)(qr(zp))))),ND=Ce(kp(qr(Ei(_t)))),jp=pp(It),PD=Ce(jp(qr(ni(_t)))),AD=Ce(jp(qr(Ro(Tt)))),WD=Pp(sd(It)(zp)),ve=2;var UD=function(){return{width:1080,height:1080*5/4}}(),Gi=ie(kr()(tr({reflectSymbol:function(){return"height"}})()(tr({reflectSymbol:function(){return"width"}})()(Br)(Ie))(Ie)))({width:ve,height:ve})(UD),ji=function(){return Gi.height}(),Kn=function(){return Gi.width}(),Jp=Cu(function(){var e=Np("canvas")(Gi)();if(e instanceof f){var n=Xr(e.value0.canvas)(),r=$r(Do({x:0,y:0,width:Kn,height:ji})("#fff"))(),o={whiteRed:{title:"#fff",titleBackground:"#c2000b",background:"#fff",bodyText:"#000",logo:function(R){return R.red}},redWhite:{title:"#C2000B",titleBackground:"white",background:"#C2000B",bodyText:"white",logo:function(R){return R.white}},paleRedWhite:{title:"#973936",titleBackground:"white",background:"#973936",bodyText:"white",logo:function(R){return R.white}},greyWhite:{title:"#222222",titleBackground:"white",background:"#222222",bodyText:"white",logo:function(R){return R.white}},blackWhite:{title:"black",titleBackground:"white",background:"black",bodyText:"white",logo:function(R){return R.white}},natoBlueWhite:{title:"#003161",titleBackground:"white",background:"#003161",bodyText:"white",logo:function(R){return R.white}},climateGreenWhite:{title:"#51824f",titleBackground:"white",background:"#51824f",bodyText:"white",logo:function(R){return R.white}},purpleWhite:{title:"#716185",titleBackground:"white",background:"#716185",bodyText:"white",logo:function(R){return R.white}}},a=Ge(o.whiteRed)(),u=function(R){return V(ir)(a)(z(function(){return R==="white-red"?o.whiteRed:R==="pale-red-white"?o.paleRedWhite:R==="red-white"?o.redWhite:R==="grey-white"?o.greyWhite:R==="black-white"?o.blackWhite:R==="NATO-blue-white"?o.natoBlueWhite:R==="climate-green-white"?o.climateGreenWhite:R==="purple-white"?o.purpleWhite:o.whiteRed}()))},l={rsp:{width:4960,height:2469,variants:{red:"img/rsp/rsp_horizontaal_rood.png",white:"img/rsp/rsp_horizontaal_wit.png"}},rspVertical:{width:1334,height:2469,variants:{red:"img/rsp/rsp_verticaal_rood.png",white:"img/rsp/rsp_verticaal_wit.png"}},rood:{width:2469,height:2469,variants:{red:"img/rood/rood_rood.png",white:"img/rood/rood_wit.png"}},rspRood:{width:8e3,height:2469,variants:{red:"img/rsp-rood/rsp_rood_rood.png",white:"img/rsp-rood/rsp_rood_wit.png"}}},i=DD($r)(yD(l.rsp.variants.red)({x:Kn-l.rsp.width*.07-32*ve,y:ji-l.rsp.height*.07-32*ve})({scaleX:.07,scaleY:.07})(tl.value))(),c=function(R){return function(Ht){var ht=R(l),Yt=Ht(ht.variants),xt={x:Kn-ht.width*.07-32*ve,y:ji-ht.height*.07-32*ve};return FD(function(){var Tu=bD(Yt),Gp=id(xt);return function(Vp){return Tu(Gp(Vp))}}())(i)}},p=Ge(function(R){return R.rsp})();wu(e.value0)("logo")(function(R){return Cu(function(){var ht=V(ir)(p)(z(function(){return R==="rsp"?function(xt){return xt.rsp}:R==="rsp-vertical"?function(xt){return xt.rspVertical}:R==="rood"?function(xt){return xt.rood}:R==="rsp-rood"?function(xt){return xt.rspRood}:function(xt){return xt.rsp}}()))(),Yt=wD(Vt(a))(function(xt){return xt.logo})();return c(ht)(Yt)()})})();var C={offsetX:.15,offsetY:.15},F={paddingX:.1,paddingY:.075},v=qp($r)(CD("#c2000b")(F)(C)(.4))({text:"",lineHeight:1.4,position:{x:Kn/2,y:150*ve},fillStyle:"#fff",fontName:"Bebas Neue Pro",fontStyle:"normal",fontWeight:"bold",fontSize:100*ve,align:Pe.value,baseline:we.value,letterSpacing:"0px",dragOffset:s.value,maxWidth:new f(Kn-64*ve),context:n})();Oi(e.value0)("title")(v)(function(R){return TD(da(R))})(),Up(e.value0)("title-size")(v)(function(R){return function(Ht){return ED(R)(Ht)}})(),ki(e.value0)("title-shadow")(v)(function(R){return MD(C)(function(){return R?.4:0}())})(),Bi(e.value0)("title-alignment")(v)(function(R){return zi(Ys(function(){return R==="left"?Re.value:R==="center"?Pe.value:R==="right"?sn.value:Pe.value}()))})();var g=$r(Go(v))();Bi(e.value0)("title-alignment")(g)(function(R){return function(Ht){return function(){var Yt=xD(v)();return R==="left"||R==="right"||R==="center-free"?Go(v):R==="center"?(Op(zi(Qs({x:Kn/2,y:Yt.y})))(v)(),LD(Mi(v))):Go(v)}}})();var x=-3*Ic/180,nt=$r(ai(x)(Ya(rd)(g)))();Hp(e.value0)("title-rotate")(nt)(function(R){return Dd(function(){return R?x:0}())})();var Xt=$r({text:[],lineHeight:1.5,position:{x:64*ve,y:300*ve},maxWidth:new f(Kn-2*64*ve),fillStyle:"#000",font:{name:"Bebas Neue Pro",style:{normal:"normal",italic:"italic"},weight:{normal:"normal",bold:"bold"},size:45*ve},align:Re.value,baseline:we.value,letterSpacing:"0px",emptyLineHeight:.5,dragOffset:s.value,context:n})();Wp(e.value0)("bodytext")(Xt)(ip)(),wu(e.value0)("color-scheme")(function(R){return Cu(function(){var ht=u(R)();Bp(ps(ht.background))(r)(),Bp(rp(ht.bodyText))(Xt)();var Yt=Vt(p)();return Cu(c(Yt)(ht.logo))(),Op(qp(zi(Xs(ht.title)))(ID(ht.titleBackground)))(v)()})})();var Ut=dd([SD(nt),ND(Mi(Xt)),PD(xi(i)),AD(xi(r))]),rt=WD(e.value0)(Ut)();be(rt)(),$p(rt)();var S=Ap("download")("rsp-template.png")(rt)();if(S instanceof f)return void 0;throw new Error("Failed pattern match at RspRood.Tekst (line 286, column 3 - line 286, column 68): "+[S.constructor.name])}throw new Error("Failed pattern match at RspRood.Tekst (line 54, column 3 - line 54, column 72): "+[e.constructor.name])});Jp();})();
